import { useLayoutEffect, useState } from "react";

var useElementSize = function useElementSize(_ref) {
  var ref = _ref.ref;

  var _useState = useState(0),
      size = _useState[0],
      setSize = _useState[1];

  var handleResize = function handleResize(entries) {
    setSize(entries[0].borderBoxSize[0].blockSize);
  };

  useLayoutEffect(function () {
    if (!ref || !ref.current) {
      return;
    }

    var resizeObserver = new ResizeObserver(handleResize);
    resizeObserver.observe(ref.current, {
      box: "border-box"
    }); // eslint-disable-next-line consistent-return

    return function () {
      resizeObserver.disconnect();
    };
  }, [ref]);
  return size || 0;
};

export default useElementSize;