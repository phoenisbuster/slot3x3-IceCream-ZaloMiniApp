import e,{object as n}from'./../external/zod/lib/index.mjs.js';import o from"../appEnv/index.js";import{functionHandler as t}from"../utils/decorator.js";import r from"../common/apis/general/onNetworkStatusChange.js";import{NetworkType as i}from"../types/enum.js";var a=[e.function().args(n({isConnected:e.boolean(),networkType:e.enum(["none","wifi","cellular","unknown"])})).returns(e.void())];function s(e){return t("onNetworkStatusChange",a,[e],(function(e){var n=e;if(o.isMp)r(n);else if(o.isMpWeb){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection,a=t.effectiveType;t.addEventListener("change",(function(){var e;switch(a){case"none":e=i.none;break;case"4g":e=i.wifi;break;case"3g":case"2g":e=i.cellular;break;default:e=i.unknown}n({isConnected:!0,networkType:e})}))}else;}))}export{s as onNetworkStatusChange};
