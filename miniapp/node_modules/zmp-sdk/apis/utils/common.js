import r from'./../external/@swc/helpers/src/_type_of.mjs.js';import{ACTION as n}from"../constants.js";import t from"./debug.js";import e from"./lodash.js";import{StatusBarType as o}from"../types/enum.js";import i from"../common/token.js";import a from"../appEnv/getEnv.js";var u=t("zmp:utils:common"),c=function(r){if(e.isObject(JSON)&&JSON.stringify)return JSON.stringify(r);if(void 0===r)return"undefined";if(null===r)return"null";try{if("string"==typeof r||null!==r.constructor.toString().match(/string/i))return'"'+r.replace(/"/g,'\\"')+'"'}catch(r){console.log(r)}var n;if(null!==Object.prototype.toString.call(r).match(/array/i)){n=new Array;for(var t=r.length,o=0;o<t;o++)n.push(c(r[o]));return"["+n.join(",")+"]"}if("object"==typeof r){for(var i in n=new Array,r)n.push('"'+i+'":'+c(r[i]));return"{"+n.join(",")+"}"}return r.toString()},p=function(r){var t,e,o=n[r],i=(null===(t=a())||void 0===t?void 0:t.zaloVersion)||0,u="versionLive"in o&&(null==o||null===(e=o.versionLive)||void 0===e?void 0:e.iOS)||0;return!!(Array.isArray(window.ignoreCheckSupport)&&window.ignoreCheckSupport.length>0&&window.ignoreCheckSupport.includes(r))||Number(i)>=u},s=function(n){try{if(n){u(n);var t=n.replace(/\\/g,"").replace(/&#39;/g,"'");try{t=decodeURIComponent(atob(n))}catch(r){}return u("formattedValue",t,JSON.parse(t),r(JSON.parse(t))),JSON.parse(t)}return null}catch(r){return u("parse json error:",r),n}},l=function(r){if(e.isObject(JSON)&&JSON.parse&&e.isString(r)){var n=r.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\x00/g,"");return JSON.parse(n,(function(r,n){return n}))}return e.isObject(r)?r:new Function("return "+r)()},f=function(r){for(var n=document.getElementsByTagName("meta"),t=0;t<n.length;t++)if(n[t].getAttribute("name")===r||n[t].getAttribute("property")===r)return n[t].getAttribute("content");return""},m=function(r){return btoa(encodeURIComponent(JSON.stringify(r)))},g=function(r,n){var t,e=0;for(t in r){var o=t.split("_")[0];r.hasOwnProperty(t)&&(n&&o!==n||(e+=2*(r[t].length+t.length)))}return e};function d(r){return r.map((function(r,n){var t=r.path.length>0?r.path.map((function(r,n){return n>0?"[".concat(r,"]"):r})).join(""):"arg";return"Error ".concat(n+1,": Code: ").concat(r.code," ~ Path: ").concat(t," ~ Message: ").concat(r.message)})).join(" | ")}var h=function(r){return r===o.hidden?"hidden":r===o.transparent?"transparent":"normal"},v=function(r){return"hidden"===r?o.hidden:"transparent"===r?o.transparent:o.normal},y=function(r){if(void 0!==r){var n=i.getMiniProgramConfig();return((null==n?void 0:n.dynamicApis)||[]).find((function(n){return n.action===r&&!1===n.clientHandle}))}};export{g as calcLocalStorageSize,p as checkIOSSupportAction,v as convertStatusBarTypeToNumber,d as generateErrorMessage,y as getDynamicAPIByAction,f as getMetaValue,h as getStatusbarType,l as parseJSON,c as serialize,s as stringToData,m as stringifyData};
