/**
 * @license zmp-sdk
 *
 * Copyright @ 2023. Zalo Group.
 *
 * This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.
 */

var e,t=1048576,n=window.zAppID,r=window.APP_ID,i="https://zalo.me/s",a="https://h5.zdn.vn/zapps",o="h5.zdn.vn",s="/zapps",u={ZOAUTH:"h5.zdn.vn_zoauth",ZACC_SESSION:"h5.zdn.vn_zacc_session",JS_TOKEN:"h5.zdn.vn_zlink3rd",ZOAUTH_VRF:"h5.zdn.vn_zoauth_vrf",DEVICE_ID:"h5.zdn.vn_deviceID",CONTEXT_ID:"h5.zdn.vn_contextID",CONTEXT_TYPE:"h5.zdn.vn_contextType",UTOKEN_ZPI:"h5.zdn.vn_utoken_zpi",GTOKEN_ZPI:"h5.zdn.vn_gtoken_zpi",ZPP_ZPI:"h5.zdn.vn_zpp_zpi",ZPT_ZPI:"h5.zdn.vn_zpt_zpi"},c={GET_USER_INFO:"https://graph.zalo.me/v2.0/me",GET_ACCESS_TOKEN:"https://h5.zalo.me/openapi/access_token",GET_ACCESS_TOKEN_V3:"https://oauth.zaloapp.com/v3/access_token",GET_LIST_USER_INFO:"https://graph.zalo.me/v2.0/me/friends/list",CREATE_ORDER:"https://payment-mini.zalo.me/api/order/create",GET_APP_INFO:"https://h5.zalo.me/apps/get-info",SEND_ACTION_LOG:"https://h5.zalo.me/log/async",CREATE_SHARE_LINK:"https://h5.zalo.me/openapi/create-sharelink",CHECK_INTERACT_OA:"https://h5.zalo.me/openapi/check-interact-oa"};!function(e){e.REQUEST="REQUEST",e.MODIFIED_REQUEST="MODIFIED_REQUEST",e.RESPONSE="RESPONSE",e.MODIFIED_RESPONSE="MODIFIED_RESPONSE",e.NOT_FOUND="NOT_FOUND"}(e||(e={}));var l,p,d,f,h,m,v,y,_,g,E,b,T,w,O,S,I,A={SUCCESS:0,UNKNOWN_ERROR:-2e3,BAD_REQUEST:-1400,INTERNAL_SERVER_ERROR:-1500,UNAUTHORIZED:-1401,FORBIDDEN:-1403,CLIENT_NOT_SUPPORT:-1404,TIME_OUT:-1408,DECODE_FAILED:-2001,USER_DENIED:-2002,USER_CANCEL:-2003,MEDIA_PICKER_FAIL:-2004,SAVE_IMAGE_FAIL:-2005},P={SUCCESS:"Success",UNKNOWN_ERROR:"Unknown error. Please try again later.",TIME_OUT:"Request timeout. Please try again later.",LOGIN_REQUIRED:"Please login (https://miniapp.zalo.me/docs/api/login) before to call this api",LOGIN_FAILED:"Login failed",NOT_PERMISSION:"You don't have permission to call this api",CLIENT_NOT_SUPPORT:"This API is not supported in this version of Zalo",DECODE_FAILED:"Can not decode id. Please check your params again.",INVALID_PARAM:"Invalid parameter",USER_DENIED:"User denied",USER_CANCEL:"User cancel",MEDIA_PICKER_FAIL:"Unable to pick media",SAVE_IMAGE_FAIL:"Unable to save image",ANDROID_ONLY:"This API only works on android device",IOS_ONLY:"This API only works on iOS device"},N={SUCCESS:{code:A.SUCCESS,message:P.SUCCESS},UNKNOWN_ERROR:{code:A.UNKNOWN_ERROR,message:P.UNKNOWN_ERROR},UNAUTHORIZED:{code:A.UNAUTHORIZED,message:P.LOGIN_REQUIRED},FORBIDDEN:{code:A.FORBIDDEN,message:P.NOT_PERMISSION},CLIENT_NOT_SUPPORT:{code:A.CLIENT_NOT_SUPPORT,message:P.CLIENT_NOT_SUPPORT},DECODE_FAILED:{code:A.DECODE_FAILED,message:P.DECODE_FAILED},TIME_OUT:{code:A.TIME_OUT,message:P.TIME_OUT},USER_DENIED:{code:A.USER_DENIED,message:P.USER_DENIED},USER_CANCEL:{code:A.USER_CANCEL,message:P.USER_CANCEL}},k={GET_DOWNLOADED_STICKER:{haveCallback:!0},OPEN_SHARE_STICKER:{},OPEN_PROFILE:{requireAccessToken:!0},OPEN_FEED_DETAIL:{},OPEN_FRIEND_RADA:{},OPEN_INAPP:{},OPEN_OUTAPP:{requireAccessToken:!0},OPEN_PAGE:{},OPEN_PHOTODETAIL:{},OPEN_GALARY:{},OPEN_GAMECENTER:{},OPEN_GAMENEWS:{},OPEN_TAB_CONTACT:{},OPEN_TAB_SOCIAL:{},OPEN_FRIENDSUGGEST:{},OPEN_GROUPLIST:{},OPEN_NEARBY:{},OPEN_ROOM:{},OPEN_STICKERSTORE:{},OPEN_CREATECHAT:{},COPY_LINK_CATESTICKER:{},REQUEST_BUY_STICKER:{},OPEN_CHAT:{requireAccessToken:!0},OPEN_TAB_CHAT:{},OPEN_CHATGROUP:{},OPEN_ADDFRIEND:{},OPEN_TAB_MORE:{},OPEN_POSTFEED:{requireAccessToken:!0},OPEN_LOGINDEVICES:{},OPEN_SENDSTICKER:{},REPORT_ABUSE:{haveCallback:!0},FOLLOW_OA:{haveCallback:!0,requireAccessToken:!0},UNFOLLOW_OA:{haveCallback:!0,requireAccessToken:!0},OPEN_GAMEDETAIL:{},OPEN_SHARESHEET:{haveCallback:!0,requireAccessToken:!0},REQUEST_PERMISSION_CAMERA:{errorList:{android:{"-2":{mapTo:N.USER_DENIED}},iOS:{"-2":{mapTo:N.USER_DENIED}}}},CHANGE_TITLE_HEADER:{skipJump:!0},WEBVIEW_CLEARCACHE:{},WEBVIEW_CONFIRMCACHE:{},WEBVIEW_ISVISIBLE:{},WEBVIEW_NETWORKTYPE:{skipJump:!0},CHANGE_BUTTON_HEADER:{},CREATE_OPTIONS_MENU:{skipJump:!0,haveCallback:!0},CREATE_SHORTCUT:{requireAccessToken:!0},CHANGE_ACTIONBAR_LEFTBUTTON_TYPE:{skipJump:!0,haveCallback:!0},WINDOW_CLOSE:{skipJump:!0,haveCallback:!0},WEBVIEW_CHECKRESERROR:{},IAP_REQUESTPAYMENT:{haveCallback:!0},ZBROWSER_GETSTATS:{},ZBROWSER_JSBRIDGE:{skipJump:!0,haveCallback:!0},PROMPT_AUTHENTICATION:{},CHANGE_ACTIONBAR_COLOR:{skipJump:!0},PROMPT_AUTHENTICATION_CHECK_STATE:{},OPEN_APPSTORE:{},GET_LOCATION:{haveCallback:!0,errorList:{android:{"-1":{mapTo:N.USER_DENIED}},iOS:{"-1":{mapTo:N.USER_DENIED}}}},QUERY_LOCATION_HIDE:{haveCallback:!0},SHOW_TOAST:{haveCallback:!0},OPEN_APP:{},HIDE_KEYBOARD:{},OPEN_PHONE:{},OPEN_QR:{},OPEN_SMS:{},VIEW_MYQR:{haveCallback:!0,requireAccessToken:!0},KEEP_SCREEN:{haveCallback:!0},CHANGE_AUTOROTATE:{skipJump:!0},CHECK_APP_INSTALLED:{},QUERY_SHOW:{},QUERY_HIDE:{},OPEN_INAPPRW:{},ZALORUN_GETTRACKINGSTATUS:{haveCallback:!0},ZALORUN_SETTRACKINGSTATUS:{haveCallback:!0},ZALORUN_GETDAYSTEP:{haveCallback:!0},ZALORUN_FORCESUBMITDATA:{haveCallback:!0},ZALORUN_SETWEIGHT:{haveCallback:!0},OPEN_PROFILE_EXT:{},DOWNLOAD_CATE:{haveCallback:!0},JUMP_LOGIN:{skipJump:!0,whiteList:!0},OPEN_ADTIMA_ADS_INTERSTITIAL:{},OPEN_ADTIMA_ADS:{},GET_ADIDCLIENT:{},SCAN_IBEACON:{},INTERACTIVE_VIBRATION:{},SAVE_IMAGE_GALLERY:{versionLive:{iOS:408},errorList:{android:{"-101":{mapTo:{code:A.SAVE_IMAGE_FAIL,message:P.SAVE_IMAGE_FAIL},needMoreDetail:!0},"-102":{mapTo:{code:A.SAVE_IMAGE_FAIL,message:P.SAVE_IMAGE_FAIL},needMoreDetail:!0}},iOS:{"-10":{mapTo:{code:A.SAVE_IMAGE_FAIL,message:P.SAVE_IMAGE_FAIL},needMoreDetail:!0}}}},OPEN_MP:{versionLive:{iOS:402}},CHANGE_ACTIONBAR:{versionLive:{iOS:402},skipJump:!0},ZBROWSER_MPDS:{versionLive:{iOS:402}},WEBVIEW_SET_RESULT:{versionLive:{iOS:416}},MP_GET_NUMBER:{versionLive:{iOS:416},errorList:{android:{"-1":{mapTo:N.USER_DENIED},"-101":{mapTo:N.USER_DENIED}},iOS:{"-1":{mapTo:N.USER_DENIED},"-10":{mapTo:N.USER_DENIED}}}},MP_OPEN_PROFILE_PICKER:{requireAccessToken:!0,versionLive:{iOS:432},errorList:{android:{"-101":{mapTo:N.USER_CANCEL}},iOS:{"-101":{mapTo:N.USER_CANCEL}}}},GET_SUPPORTED_ACTIONS:{whiteList:!0},MP_JOIN_WIFI:{versionLive:{android:0,iOS:0},havePermission:!1,whiteList:!1},PICK_MEDIA:{requireAccessToken:!0,versionLive:{iOS:440},errorList:{android:{"-101":{mapTo:N.USER_CANCEL},999:{mapTo:{code:A.MEDIA_PICKER_FAIL,message:P.MEDIA_PICKER_FAIL},needMoreDetail:!0}},iOS:{"-10":{mapTo:{code:A.MEDIA_PICKER_FAIL,message:P.MEDIA_PICKER_FAIL}}}}},MP_CLOSE_LOADINGVIEW:{skipJump:!0},CHANGE_BOTTOMBAR:{skipJump:!0},MA_MENU_MINIMIZE:{skipJump:!1,versionLive:{iOS:520}},MA_MENU_PERMISSION:{skipJump:!1,versionLive:{iOS:520}},MA_MENU_FAVORITES:{skipJump:!1,versionLive:{iOS:520}},MP_SEND_NOTIFICATION:{skipJump:!1,versionLive:{iOS:530},errorList:{android:{"-1":{mapTo:N.USER_DENIED}},iOS:{"-1":{mapTo:N.USER_DENIED}}}},MP_ADD_RATING:{skipJump:!1},MP_ADD_MYFAVORITES:{skipJump:!1},MP_INTERACT_OA:{skipJump:!1}},C={android:{"-4":N.DECODE_FAILED,"-5":N.CLIENT_NOT_SUPPORT,"-14":N.TIME_OUT},iOS:{"-9":N.DECODE_FAILED,"-5":N.CLIENT_NOT_SUPPORT,"-14":N.TIME_OUT}},R={android:12100615,iOS:460,wp:0,unknown:0},M=5*t,x="https://payment-mini.zalo.me/api/order/create",D="https://payment-mini.zalo.me/api/order/iap-create",U="https://payment-mini.zalo.me/api/transaction",L="DEFERRED",j="IMMEDIATE_AND_CHARGE_FULL_PRICE",Z={SHOW_BACK:0,HIDE_BACK:3,SHOW_HOME:1,HIDE_HOME:0},B=5,z=6,W="#1843EF",F=0,G={"-12101":"Invalid params","-12102":"Session expire","-12103":"Not permission","-12104":"Not Authorize","-12105":"Unknown exception","-12106":"Cannot create order","-12107":"Transaction not found","-12108":"Cannot update order","-12109":"Cannot decode param","-12110":"Version not support","-12111":"Receipt expire","-12112":"Product not found","-12113":"Subscription other GW","-12114":"Product already subcription","-12115":"Not exist","-12116":"Already exist","-12117":"Not allow","-12118":"Not permit","-12119":"Internal error"};function H(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){H(a,r,i,o,s,"next",e)}function s(e){H(a,r,i,o,s,"throw",e)}o(void 0)}))}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function q(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function $(e){return function(e){if(Array.isArray(e))return V(e)}(e)||J(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function Q(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];try{return e.apply(void 0,$(n))}catch(e){return"undefined"!=typeof console&&console.error&&console.error(e),null}}}function X(e){var t=new URL(window.location.href).searchParams.get("env");return{isMp:window.location.hostname.includes(o)&&("TESTING_LOCAL"==t||window.location.pathname.startsWith(s)),isMpWeb:window.location.hostname.includes("localhost")}}Q.async=function(e){return K((function(){var t,n,r,i,a=arguments;return Y(this,(function(o){switch(o.label){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.apply(void 0,$(n))];case 2:return[2,o.sent()];case 3:return i=o.sent(),"undefined"!=typeof console&&console.error&&console.error(i),[2,null];case 4:return[2]}}))}))},function(e){e.none="none",e.wifi="wifi",e.cellular="cellular",e.unknown="unknown"}(l||(l={})),function(e){e.wp="wp",e.android="android",e.iOS="iOS",e.unknown="unknown"}(p||(p={})),function(e){e.AppPaused="h5.event.paused",e.AppResumed="h5.event.resumed",e.NetworkChanged="h5.event.connection.changed",e.OnDataCallback="h5.event.webview.result",e.OpenApp="h5.event.open.mp",e.AppClose="h5.event.action.close",e.PaymentCallback="payment.callback",e.PaymentResult="action.payment.result"}(d||(d={})),function(e){e.DOING="doing",e.DONE="done"}(f||(f={})),function(e){e[e.user=1]="user",e[e.oa=0]="oa",e[e.aliasOA=2]="aliasOA"}(h||(h={})),function(e){e[e.user=1]="user",e[e.oa=0]="oa"}(m||(m={})),function(e){e[e.image=1]="image",e[e.link=4]="link",e[e.profile=5]="profile"}(v||(v={})),function(e){e[e.image=1]="image",e[e.gif=11]="gif",e[e.video=12]="video",e[e.link=4]="link",e[e.oa=5]="oa",e[e.zmp=20]="zmp",e[e.multi_image=21]="multi_image",e[e.zmp_deep_link=4]="zmp_deep_link"}(y||(y={})),function(e){e[e.auto=1]="auto",e[e.portrait=2]="portrait",e[e.landscape=3]="landscape"}(_||(_={})),function(e){e[e.oneShot=0]="oneShot"}(g||(g={})),function(e){e[e.zcamera=3]="zcamera",e[e.zcamera_photo=1]="zcamera_photo",e[e.zcamera_video=2]="zcamera_video",e[e.zcamera_scan=7]="zcamera_scan",e[e.photo=4]="photo",e[e.video=5]="video",e[e.file=6]="file"}(E||(E={})),function(e){e.SUBSCRIPTION="SUBSCRIPTION",e.ONETIME="ONETIME"}(b||(b={})),function(e){e[e.UNKNOW=0]="UNKNOW",e[e.DEFERRED=1]="DEFERRED",e[e.IMMEDIATE_AND_CHARGE_FULL_PRICE=2]="IMMEDIATE_AND_CHARGE_FULL_PRICE"}(T||(T={})),function(e){e[e.normal=1]="normal",e[e.hidden=0]="hidden",e[e.transparent=2]="transparent"}(w||(w={})),function(e){e[e.show=1]="show",e[e.hide=0]="hide"}(O||(O={})),function(e){e[e.show=1]="show",e[e.hide=0]="hide"}(S||(S={})),function(e){e[e.left=0]="left",e[e.center=1]="center"}(I||(I={}));var ee,te=function(e){return e.isAndroid?p.android:e.isIOS?p.iOS:p.unknown};function ne(e){var t=e.split("zalo")[1];return t&&t.replace(" ","").split("/")[1]||""}function re(){var e=function(){var e=Q((function(){return window.navigator.userAgent.toLowerCase()}))();if(e){var t=function(e){return{isAndroid:/android/i.test(e)&&!/iemobile/.test(e),isIOS:/iphone|ios|ipad|ipod/.test(e)&&!/iemobile/.test(e),isMobile:/android|iphone|ios|ipad|ipod|iemobile/.test(e),isZalo:/zalo/.test(e)}}(e);return{appEnv:X(),platform:t,platformName:te(t),zaloVersion:ne(e).trim()}}}();if(e)return e}var ie=(null===(ee=re())||void 0===ee?void 0:ee.appEnv)||{};function ae(e){ae.on&&ae.engine(e)}ae.on=!1,ae.engine=function(e){var t=e.name,n=e.type,r=e.state,i=e.request,a=e.response,o=e.stage;console[n]([t,o,r,i,a].filter(Boolean).map((function(e){return"object"==typeof e?JSON.stringify(e):e})).join("; "))};var oe=function(t,n){var r,i={error:-1404,errorMessage:"".concat(t," is not found")};null==n||null===(r=n.fail)||void 0===r||r.call(n,i),ae({stage:e.NOT_FOUND,type:"error",name:t,request:n,state:"fail",response:i})};function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){se(e,t,n[t])}))}return e}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||J(e)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e){return e&&e.constructor===Symbol?"symbol":typeof e}function pe(e){return"function"==typeof window.Debug?window.Debug(e):function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}}var de=Object.prototype.toString;var fe="[object Null]",he="[object Undefined]";function me(e){return null==e?void 0===e?he:fe:function(e){return de.call(e)}(e)}function ve(e){return null!=e&&"object"==typeof e}var ye={isEmpty:function(e){return null==e||"object"==typeof e&&0===Object.keys(e).length||"string"==typeof e&&0===e.trim().length},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isFunction:function(e){return"function"==typeof e},isObject:function(e){return null!==e&&("function"==typeof e||"object"==typeof e)},isString:function(e){return null!=e&&"string"==typeof e.valueOf()},isNumber:function(e){return"number"==typeof e||ve(e)&&"[object Number]"==me(e)},isArray:function(e){return Array.isArray(e)},isRegExp:function(e){return ve(e)&&"[object RegExp]"==me(e)},get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=function(n){return String.prototype.split.call(t,n).filter(Boolean).reduce((function(e,t){return null!=e?e[t]:e}),e)},i=r(/[,[\]]+?/)||r(/[,[\].]+?/);return void 0===i||i===e?n:i},isPromise:function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}};function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e){return Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ee(e)}function be(e){return Ee(e)}function Te(e,t,n){return Te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=be(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n||e):i.value}},Te(e,t,n)}function we(e,t,n){return Te(e,t,n)}function Oe(e,t){return Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oe(e,t)}function Se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=be(e);if(t){var i=be(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?Ie(e):t}(this,n)}}var Pe,Ne,ke=(Pe=function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],p=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),p){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,a),!0;case 6:return l.fn.call(l.context,t,r,i,a,o),!0}for(c=1,u=new Array(p-1);c<p;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),p){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,i);break;default:if(!u)for(d=1,u=new Array(p-1);d<p;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},Pe(Ne={exports:{}},Ne.exports),Ne.exports),Ce="ACTION_CALLBACK";var Re=function(e){Se(n,e);var t=Ae(n);function n(){var e;return _e(this,n),(e=t.call(this)).debug=pe("zmp:event-emitter"),e}var r=n.prototype;return r.h5ConfirmHandleEvent=function(e,t,n){ZaloJavaScriptInterface.jsH5EventCallback(e,t,n||"")},r.on=function(e,t,r){var i=this;if(e===Ce||e===d.PaymentCallback)return we(be(n.prototype),"on",this).call(this,e,t,r);this.debug("register ".concat(String(e),": ").concat(r));return we(be(n.prototype),"on",this).call(this,e,(function(n,a){i.h5ConfirmHandleEvent(n,e,r),t(a)}),r)},r.once=function(e,t,r){var i=this;if(e===Ce)return we(be(n.prototype),"once",this).call(this,e,t,r);this.debug("register once ".concat(String(e),": ").concat(r));return we(be(n.prototype),"once",this).call(this,e,(function(n,a){i.h5ConfirmHandleEvent(n,e,r),t(a)}),r)},n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n}(ke);function Me(e){Re.getInstance().emit(Ce,e)}window.onNativeMessage=function(e,t){return function(n){Me({serialId:e,actionName:t,result:n})}},window.zaloJSV2={zalo_h5_event_handler:function(e,t,n){var i=pe("zmp:zalo_h5_event_handler");i("eventId: ".concat(e,", eventName: ").concat(t,", eventData: ").concat(n));var a=et(n);i("stringToData",a);var o=function(e,t){try{if(e===d.OpenApp){var n=t.url,i=new URL(n),a=i.pathname.split("/zapps/".concat(r))[1];return{path:"".concat(a||"/").concat(i.search)}}return t}catch(e){return t}}(t,a);Re.getInstance().emit(t,e,o)}},window.zaloNative2JS={nativeCall:function(e,t,n){Re.getInstance().emit(d.PaymentCallback,e,t,n)}};var xe={encode:function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(void 0===r)return;if(null===r)return void t.push(n);t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}return t.join("&")},decode:function(e,t){var n={};if(""===e)return n;for(var r=e.split("&"),i=0;i<r.length;i++){var a=r[i].split("=",2),o=decodeURIComponent(a[0]);if(t&&Object.prototype.hasOwnProperty.call(n,o))throw new URIError("Duplicate key: "+o);n[o]=2===a.length?decodeURIComponent(a[1]):null}return n},appendToUrl:function(e,t){return e+(-1!==e.indexOf("?")?"&":"?")+("string"==typeof t?t:xe.encode(t))},getParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},getParamsAsObject:function(e){var t={};return e?(e.split("&").map((function(e){var n=e.split("=");n&&2==n.length&&(t[n[0]]=decodeURIComponent(n[1].replace(/\+/g," ")))})),t):t},toQueryString:function(e){if(!e)return"";if("object"!=(void 0===e||void 0===e?"undefined":le(e)))return e;var t=Object.keys(e),n=[];return t.map((function(t){var r=e[t],i=[t,r="object"==(void 0===r||void 0===r?"undefined":le(r))?JSON.stringify(r):encodeURIComponent(r)].join("=");n.push(i)})),n.join("&")}},De=xe,Ue={},Le=function(e,t,n){var r=t||"default";return function(){return(r in Ue?Ue[r](e,n):e).apply(this,arguments)}};Le.setWrapper=function(e){Ue[arguments.length<=1||void 0===arguments[1]?"default":arguments[1]]=e};var je={error:{code:1,error_subcode:1357046,message:"Received Invalid JSON reply.",type:"http"}};function Ze(e){try{return null===e?je:JSON.parse(e)}catch(e){return je}}var Be,ze={execute:function(e,t,n,r){n.suppress_http_code=1;var i=De.encode(n);"post"!=t&&(e=De.appendToUrl(e,i),i="");var a=function(e,t){if(!self.XMLHttpRequest)return null;var n=new XMLHttpRequest,r=function(){};if(!("withCredentials"in n))return null;n.open(e,t,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded");var i={send:function(e){n.send(e)}},a=Le((function(){a=r,"onload"in i&&i.onload(n)}),"entry","XMLHttpRequest:load"),o=Le((function(){o=r,"onerror"in i&&i.onerror(n)}),"entry","XMLHttpRequest:error");return n.onload=function(){a()},n.onerror=function(){o()},n.onreadystatechange=function(){4==n.readyState&&(200==n.status?a():o())},i}(t,e);return!!a&&(a.onload=function(e){r(Ze(e.responseText))},a.onerror=function(e){e.responseText?r(Ze(e.responseText)):r({error:{code:1,error_subcode:1357045,message:"unknown error (empty response)",status:e.status,type:"http"}})},a.send(i),!0)}},We=(Be=K((function(e,t,n){var r,i,a,o;return Y(this,(function(s){switch(s.label){case 0:return r={appId:e,versionStatus:t},ye.isUndefined(n)||(r.currentVersion=n),i=De.appendToUrl(c.GET_APP_INFO,r),[4,fetch(i,{credentials:"include"})];case 1:return(a=s.sent()).ok?[4,a.json()]:[3,3];case 2:if((o=s.sent()).err<0||!o.data)throw new Error(o);return[2,{name:o.data.name,version:o.data.version,description:o.data.description,appUrl:o.data.appUrl,qrCodeUrl:o.data.qrCodeUrl,logoUrl:o.data.logoUrl}];case 3:throw new Error("Can't get app info")}}))})),function(e,t,n){return Be.apply(this,arguments)});function Fe(e){try{var t=e.map((function(e){return{action:e.action,error:e.error,message:e.message,data:e.data}}));ze.execute(c.SEND_ACTION_LOG,"post",{appId:window.APP_ID,data:JSON.stringify(t)},(function(e){})),window.zmpSentry&&window.zmpSentry.captureMessage("Result from native",{extra:{data:e}})}catch(e){}}var Ge=function(){var e,t,n,r=re(),i={},a=Re.getInstance(),o=[],s=!1;return s||(t=function(e){var t=e.serialId,n=tt(e.result),r=at(null==n?void 0:n.action),a=ye.isEmpty(null==n?void 0:n.error_code)?0:null==n?void 0:n.error_code,s=null==n?void 0:n.error_message,u=(null==n?void 0:n.data)||n;if(r&&0===a){var c=JSON.parse(null==n?void 0:n.data);a=ye.isEmpty(null==c?void 0:c.error_code)?0:null==c?void 0:c.error_code,s=null==c?void 0:c.error_message,u=(null==c?void 0:c.data)||c}var l={error_code:a,error_message:s,data:u,action:(null==n?void 0:n.action)||e.actionName};if(t&&i[t]){var p=i[t],d=p.callback,f=p.timeout,h=p.isMultiCallback,m=p.options;!function(e,t){var n=t||{},r=n.success,i=n.fail;0===e.error_code?ye.isFunction(r)&&r(e):ye.isFunction(i)&&i(e)}(l,d),!h&&delete i[t],f&&clearTimeout(f);var v={action:null==l?void 0:l.action,error:null==l?void 0:l.error_code,message:null==l?void 0:l.error_message,data:{}};try{if("action.open.inapp"===l.action||"action.open.outapp"===l.action){var y=new URL(null==m?void 0:m.url),_="".concat(y.protocol,"//").concat(y.host).concat(y.pathname);v.data={url:_}}if("action.follow.oa"===l.action||"action.unfollow.oa"===l.action){var g=null==m?void 0:m.uid;v.data={uid:g}}if("action.open.chat"===l.action){var E=null==m?void 0:m.uId,b=null==m?void 0:m.type;v.data={uid:E,openChatType:b}}}catch(e){}o.push(v)}},Re.getInstance().on(Ce,t),a.on(d.AppPaused,(function(){if(o.length>0){var e=o;o=[],Fe(e)}})),e?clearInterval(e):e=setInterval((function(){if(o.length>0){var e=o;o=[],Fe(e)}}),5e3),s=!0),n=K((function(e,t,n,a){var o,s,u,c,l,p,d,f,h,m,v,y,_,g,E,b,T;return Y(this,(function(w){switch(w.label){case 0:return s=Math.floor(1e6*Math.random()),u="".concat(e,"_").concat(s),c="action.".concat(e.replace(/\_/g,".").toLowerCase()),(null==a?void 0:a.actionName)&&a.actionName.length>0&&(c=null==a?void 0:a.actionName),l=(null==a?void 0:a.isMultiCallback)||!1,p=!1!==(null==a?void 0:a.timeout)&&((null==a?void 0:a.timeout)||!0),d=(null==a?void 0:a.haveActionCallback)||!1,f=(null==a?void 0:a.skipJump)||!1,h=(null==a?void 0:a.requireAccessToken)||!1,t&&n&&(i[u]={options:t,callback:n,isMultiCallback:l},p&&d&&(i[u].timeout=setTimeout((function(){Me({serialId:u,result:{error_code:A.TIME_OUT,error_message:P.TIME_OUT,data:{timeout:p},action:e}})}),!0===p?8e3:1e3*p))),m=at(c),!(null==r||null===(o=r.platform)||void 0===o?void 0:o.isMobile)||!e||ye.isUndefined(ZaloJavaScriptInterface)||r.platform.isIOS&&!Xe(e)||m&&!1===m.isSupported?(Me({serialId:u,result:{error_code:A.CLIENT_NOT_SUPPORT,error_message:P.CLIENT_NOT_SUPPORT,data:{isMobile:null==r||null===(v=r.platform)||void 0===v?void 0:v.isMobile},action:e}}),[2]):(y=Qe(t),f?[3,2]:[4,$e.getJSAccessToken()]);case 1:return g=w.sent(),[3,3];case 2:g="",w.label=3;case 3:return _=g,f||!h?[3,5]:[4,$e.getAccessToken()];case 4:return b=w.sent(),[3,6];case 5:b="",w.label=6;case 6:return E=b,T=r.platform.isIOS?window.onNativeMessage(u,c):'window.onNativeMessage("'.concat(u,'", "').concat(c,'")'),[2,ZaloJavaScriptInterface.jsCall(_,c,E,y,T)]}}))})),function(e,t,r,i){return n.apply(this,arguments)}}();function He(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}var Ke=function(){function e(t,n,r,i){_e(this,e),this.code=t,this.message=n,this.api=r,this.detail=i}var t=e.prototype;return t.toString=function(){return"api: ".concat(String(this.api),"; code: ").concat(this.code,"; message: ").concat(JSON.stringify(this.message))},t.toJSON=function(){return{code:this.code,message:this.message,api:this.api,detail:this.detail}},e}(),Ve=function(e,t){return He(e,Ke)?function(e,t){return e.api=t,e.toJSON()}(e,t):function(e,t){return He(e,Error)?new Ke(A.UNKNOWN_ERROR,e.message,t).toJSON():ye.isEmpty(null==e?void 0:e.message)||ye.isEmpty(null==e?void 0:e.code)?new Ke(A.UNKNOWN_ERROR,P.UNKNOWN_ERROR,t,e).toJSON():new Ke(e.code,e.message,t,e.detail).toJSON()}(e,t)},Je={success:function(e,t){return{code:A.SUCCESS,message:t||P.SUCCESS,data:e||{}}},error:{badRequest:function(e){return new Ke(A.BAD_REQUEST,e)},loginFailed:function(e){return new Ke(A.UNAUTHORIZED,"".concat(P.LOGIN_FAILED,": ").concat(e))},loginRequired:function(){return new Ke(A.UNAUTHORIZED,P.LOGIN_REQUIRED)},cannotGetShareInfo:function(){return new Ke(A.INTERNAL_SERVER_ERROR,"Can not get app info to share")},createIAPOrderFailed:function(e){var t=Object.keys(G).find((function(t){return t===e.toString()}));return new Ke(e,t||P.UNKNOWN_ERROR)}}},qe=function(){function t(){_e(this,t),this._jumpStatus=void 0,this.WAITING_QUEUE=[],this.getAccessTokenCount=0,this._accessToken="",this._jsAccessToken="",this.refreshToken="",this._cookies=[],this.accessTokenExpiresIn=0,this.prevGetAccessTokenTimestamp=(new Date).getTime(),this.manualSetAccessToken=!1,this._miniProgramConfig={}}var i,o,s,l=t.prototype;return l.jump=function(){var t=this;return K((function(){return Y(this,(function(n){return[2,new Promise((function(n,r){t._jumpStatus?t._jumpStatus===f.DONE?n(f.DONE):n(f.DOING):(t._jumpStatus=f.DOING,ae({stage:e.REQUEST,type:"log",name:"jump"}),Ge("JUMP_LOGIN",{},{success:function(e){var r=e.data;t._miniProgramConfig=(null==r?void 0:r.miniProgramConfig)||{};var i=(null==r?void 0:r.cookiesOAuthLogins)||[],a=i.find((function(e){return e.name===u.JS_TOKEN}));a&&(t._jsAccessToken=a.value,window.ZJSBridge.setJSToken&&window.ZJSBridge.setJSToken(a.value)),t._cookies=i;var o=t._cookies.find((function(e){return e.name===u.ZOAUTH}));(null==o?void 0:o.value)||Fe([{action:"action.jump.login",error:-102,message:"no zoauth",data:{}}]),n(f.DONE)},fail:function(e){Fe([{action:"action.jump.login",error:-101,message:e.message||"jump error",data:{}}]),r(e)}},{skipJump:!0}))}))]}))}))()},l.loginZaloV3=function(e,t,n){var r=this;return K((function(){var i;return Y(this,(function(o){switch(o.label){case 0:return i="".concat(c.GET_ACCESS_TOKEN_V3,"?app_id=").concat(t,"&redirect_uri=").concat(a,"/").concat(e,"/&code=").concat(n,"&isSDK=true"),[4,fetch(i).then(function(){var e=K((function(e){var t,n,i;return Y(this,(function(a){switch(a.label){case 0:return[4,e.json()];case 1:return t=a.sent(),n=null==t?void 0:t.access_token,r._accessToken=n,i=1e3*parseInt(t.expires_in),r.accessTokenExpiresIn=i,r.prevGetAccessTokenTimestamp=(new Date).getTime(),window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(r._accessToken||""),[2,n]}}))}));return function(t){return e.apply(this,arguments)}}())];case 1:return[2,o.sent()]}}))}))()},l.loginZaloV4=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this;return K((function(){var i,a;return Y(this,(function(o){switch(o.label){case 0:return(i=new URLSearchParams).append("app_id",e),i.append("code",t),i.append("code_verifier",n),ye.isNull(r.refreshToken)||0===r.refreshToken.length?i.append("grant_type","authorization_code"):(i.append("grant_type","refresh_token"),i.append("refresh_token",r.refreshToken||"")),a={headers:{"Content-Type":"application/x-www-form-urlencoded"}},[4,fetch(c.GET_ACCESS_TOKEN,ue({method:"POST",body:i},a)).then(function(){var e=K((function(e){var t,n,i,a;return Y(this,(function(o){switch(o.label){case 0:return[4,e.json()];case 1:return t=o.sent(),n=(null==t?void 0:t.access_token)||"",i=(null==t?void 0:t.refresh_token)||"",r.refreshToken=i,r._accessToken=n,a=1e3*parseInt(null==t?void 0:t.expires_in),r.accessTokenExpiresIn=a,r.prevGetAccessTokenTimestamp=(new Date).getTime(),window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(n),[2,n]}}))}));return function(t){return e.apply(this,arguments)}}())];case 1:return[2,o.sent()]}}))}))()},l.getAccessToken=function(){var e=this;return K((function(){var t,i,a,o,s,c;function l(){return p.apply(this,arguments)}function p(){return(p=K((function(){return Y(this,(function(e){switch(e.label){case 0:return[4,new Promise((function(e){var t=setInterval((function(){(i.getAccessTokenCount<=1||i._accessToken)&&(e("done"),clearInterval(t))}),200)}))];case 1:return[2,e.sent()]}}))}))).apply(this,arguments)}return Y(this,(function(p){switch(p.label){case 0:return t=(new Date).getTime()-e.prevGetAccessTokenTimestamp,(i=e).getAccessTokenCount++,e.getAccessTokenCount>1?[4,l()]:[3,2];case 1:p.sent(),p.label=2;case 2:return e.manualSetAccessToken||e._accessToken.length>0&&t<e.accessTokenExpiresIn?(i.getAccessTokenCount--,[2,Promise.resolve(e._accessToken)]):(e.accessToken="",[4,e.get(u.ZOAUTH)]);case 3:return a=p.sent(),[4,e.get(u.ZOAUTH_VRF)];case 4:if(o=p.sent(),!a)return[3,12];p.label=5;case 5:return p.trys.push([5,10,,11]),o?[4,e.loginZaloV4(r,a,o)]:[3,7];case 6:return s=p.sent(),[3,9];case 7:return[4,e.loginZaloV3(r,n,a)];case 8:s=p.sent(),p.label=9;case 9:return[3,11];case 10:return c=p.sent(),s="",console.log("Can not get access token",c),Fe([{action:"zmp.getaccesstoken.fail",error:-103,message:String(c)||"Can not get access token",data:{}}]),[3,11];case 11:return i.getAccessTokenCount--,s||Fe([{action:"zmp.getaccesstoken.fail",error:-101,message:"no accessToken",data:{}}]),[2,Promise.resolve(e._accessToken)];case 12:throw i.getAccessTokenCount--,Fe([{action:"zmp.getaccesstoken.fail",error:-102,message:"no oauth",data:{}}]),Je.error.loginFailed("Zalo app has not been activated")}}))}))()},l.setAccessToken=function(e){this.manualSetAccessToken=!0,this._accessToken=e,window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(e)},l.getJSAccessToken=function(){var e=this;return K((function(){var t;return Y(this,(function(n){switch(n.label){case 0:return e._jsAccessToken.length>0?[2,Promise.resolve(e._jsAccessToken)]:[4,e.get(u.JS_TOKEN)];case 1:return t=n.sent(),[2,Promise.resolve(t)]}}))}))()},l.getSync=function(e){var t;return null===(t=this._cookies.find((function(t){return t.name===e})))||void 0===t?void 0:t.value},l.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return new Promise(function(){var r=K((function(r){var i,a,o,s;return Y(this,(function(u){switch(u.label){case 0:return!t&&n._cookies.length>0?(i=n._cookies.find((function(t){return t.name===e})),[2,r(null==i?void 0:i.value)]):(t&&n._jumpStatus===f.DONE&&(n._jumpStatus=void 0),a={name:e,cb:function(e){return r(e)}},[4,n.jump()]);case 1:return(o=u.sent())===f.DONE?(n._jumpStatus=o,n.WAITING_QUEUE.length&&(n.WAITING_QUEUE.forEach((function(e){var t=n._cookies.find((function(t){return t.name===e.name}));e.cb(null==t?void 0:t.value)})),n.WAITING_QUEUE=[]),s=n._cookies.find((function(e){return e.name===a.name})),a.cb(null==s?void 0:s.value)):n.WAITING_QUEUE.push(a),[2]}}))}));return function(e){return r.apply(this,arguments)}}())},l.getMiniProgramConfig=function(){return this._miniProgramConfig},t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},i=t,(o=[{key:"jumpStatus",get:function(){return this._jumpStatus}},{key:"accessToken",set:function(e){this._accessToken=e,window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(e)}}])&&ge(i.prototype,o),s&&ge(i,s),t}(),$e=qe.getInstance(),Ye=pe("zmp:utils:common"),Qe=function(e){if(ye.isObject(JSON)&&JSON.stringify)return JSON.stringify(e);if(void 0===e)return"undefined";if(null===e)return"null";try{if("string"==typeof e||null!==e.constructor.toString().match(/string/i))return'"'+e.replace(/"/g,'\\"')+'"'}catch(e){console.log(e)}var t;if(null!==Object.prototype.toString.call(e).match(/array/i)){t=new Array;for(var n=e.length,r=0;r<n;r++)t.push(Qe(e[r]));return"["+t.join(",")+"]"}if("object"==typeof e){for(var i in t=new Array,e)t.push('"'+i+'":'+Qe(e[i]));return"{"+t.join(",")+"}"}return e.toString()},Xe=function(e){var t,n,r=k[e],i=(null===(t=re())||void 0===t?void 0:t.zaloVersion)||0,a="versionLive"in r&&(null==r||null===(n=r.versionLive)||void 0===n?void 0:n.iOS)||0;return!!(Array.isArray(window.ignoreCheckSupport)&&window.ignoreCheckSupport.length>0&&window.ignoreCheckSupport.includes(e))||Number(i)>=a},et=function(e){try{if(e){Ye(e);var t=e.replace(/\\/g,"").replace(/&#39;/g,"'");try{t=decodeURIComponent(atob(e))}catch(e){}return Ye("formattedValue",t,JSON.parse(t),le(JSON.parse(t))),JSON.parse(t)}return null}catch(t){return Ye("parse json error:",t),e}},tt=function(e){if(ye.isObject(JSON)&&JSON.parse&&ye.isString(e)){var t=e.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\x00/g,"");return JSON.parse(t,(function(e,t){return t}))}return ye.isObject(e)?e:new Function("return "+e)()},nt=function(e){for(var t=document.getElementsByTagName("meta"),n=0;n<t.length;n++)if(t[n].getAttribute("name")===e||t[n].getAttribute("property")===e)return t[n].getAttribute("content");return""},rt=function(e){return btoa(encodeURIComponent(JSON.stringify(e)))};var it=function(e){return"hidden"===e?w.hidden:"transparent"===e?w.transparent:w.normal},at=function(e){if(void 0!==e){var t=$e.getMiniProgramConfig();return((null==t?void 0:t.dynamicApis)||[]).find((function(t){return t.action===e&&!1===t.clientHandle}))}};function ot(e,t,n,r){var i,a,o=Array.isArray(n)&&n.length>0&&(null===(i=n[0])||void 0===i?void 0:i.success),s=Array.isArray(n)&&n.length>0&&(null===(a=n[0])||void 0===a?void 0:a.fail);try{var u=n;t.length>0&&t.forEach((function(t,r){var i=t.safeParse(n[r]);if(!i.success){var a,o=null===(a=i.error)||void 0===a?void 0:a.issues,s=o.map((function(e,t){var n=e.path.length>0?e.path.map((function(e,t){return t>0?"[".concat(e,"]"):e})).join(""):"arg";return"Error ".concat(t+1,": Code: ").concat(e.code," ~ Path: ").concat(n," ~ Message: ").concat(e.message)})).join(" | "),c=Je.error.badRequest(s);throw c.detail=o,Ve(c,e)}u.push(i.data)}));var c=r.apply(void 0,$(u));return ye.isPromise(c)?new Promise((function(t,n){c.then((function(e){if(!ye.isNull(o)&&ye.isFunction(o))return o(e);t(c)})).catch((function(t){var r=Ve(t,e);if(!ye.isNull(s)&&ye.isFunction(s))return s(r);n(r)}))})):c}catch(t){var l,p=Array.isArray(n)&&n.length>0&&(null===(l=n[0])||void 0===l?void 0:l.fail);if(!ye.isNull(p)&&ye.isFunction(p))return p(t);throw Ve(t,e)}}function st(e){return ut.apply(this,arguments)}function ut(){return(ut=K((function(e){return Y(this,(function(t){return[2,ot("login",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,$e.getAccessToken()]:[3,2];case 1:return[2,e.sent()||""];case 2:return ie.isMpWeb?[2,Promise.resolve("")]:[2,Promise.reject(oe("login",{}))]}}))})))]}))}))).apply(this,arguments)}function ct(e){return lt.apply(this,arguments)}function lt(){return(lt=K((function(e){return Y(this,(function(t){return[2,ot("getAccessToken",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,$e.getAccessToken()]:[3,2];case 1:return[2,e.sent()||""];case 2:return ie.isMpWeb?[2,Promise.resolve("")]:[2,Promise.reject(oe("getAccessToken",{}))]}}))})))]}))}))).apply(this,arguments)}var pt,dt="2.28.9";function ft(){return ot("getVersion",[],[],(function(){return dt}))}function ht(){var e,t;return{version:nt("version-id")||"",apiVersion:dt,zaloVersion:(null===(e=re())||void 0===e?void 0:e.zaloVersion)||"",platform:(null===(t=re())||void 0===t?void 0:t.platformName)||"",language:navigator.language,zaloLanguage:window.zLanguage||"vi",zaloTheme:window.zTheme||"light"}}function mt(){return ot("getSystemInfo",[],[],(function(){return ht()}))}!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(pt||(pt={}));const vt=pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),yt=e=>{switch(typeof e){case"undefined":return vt.undefined;case"string":return vt.string;case"number":return isNaN(e)?vt.nan:vt.number;case"boolean":return vt.boolean;case"function":return vt.function;case"bigint":return vt.bigint;case"symbol":return vt.symbol;case"object":return Array.isArray(e)?vt.array:null===e?vt.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?vt.promise:"undefined"!=typeof Map&&e instanceof Map?vt.map:"undefined"!=typeof Set&&e instanceof Set?vt.set:"undefined"!=typeof Date&&e instanceof Date?vt.date:vt.object;default:return vt.unknown}},_t=pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class gt extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,pt.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}gt.create=e=>new gt(e);const Et=(e,t)=>{let n;switch(e.code){case _t.invalid_type:n=e.received===vt.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case _t.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,pt.jsonStringifyReplacer)}`;break;case _t.unrecognized_keys:n=`Unrecognized key(s) in object: ${pt.joinValues(e.keys,", ")}`;break;case _t.invalid_union:n="Invalid input";break;case _t.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${pt.joinValues(e.options)}`;break;case _t.invalid_enum_value:n=`Invalid enum value. Expected ${pt.joinValues(e.options)}, received '${e.received}'`;break;case _t.invalid_arguments:n="Invalid function arguments";break;case _t.invalid_return_type:n="Invalid function return type";break;case _t.invalid_date:n="Invalid date";break;case _t.invalid_string:"object"==typeof e.validation?"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:pt.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case _t.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(e.minimum)}`:"Invalid input";break;case _t.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(e.maximum)}`:"Invalid input";break;case _t.custom:n="Invalid input";break;case _t.invalid_intersection_types:n="Intersection results could not be merged";break;case _t.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case _t.not_finite:n="Number must be finite";break;default:n=t.defaultError,pt.assertNever(e)}return{message:n}};let bt=Et;function Tt(){return bt}const wt=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],o={...i,path:a};let s="";const u=r.filter((e=>!!e)).slice().reverse();for(const e of u)s=e(o,{data:t,defaultError:s}).message;return{...i,path:a,message:i.message||s}};function Ot(e,t){const n=wt({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Tt(),Et].filter((e=>!!e))});e.common.issues.push(n)}class St{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return It;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t)n.push({key:await e.key,value:await e.value});return St.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return It;if("aborted"===i.status)return It;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),(void 0!==i.value||r.alwaysSet)&&(n[t.value]=i.value)}return{status:e.value,value:n}}}const It=Object.freeze({status:"aborted"}),At=e=>({status:"dirty",value:e}),Pt=e=>({status:"valid",value:e}),Nt=e=>"aborted"===e.status,kt=e=>"dirty"===e.status,Ct=e=>"valid"===e.status,Rt=e=>"undefined"!=typeof Promise&&e instanceof Promise;var Mt;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(Mt||(Mt={}));class xt{constructor(e,t,n,r){this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._path.concat(this._key)}}const Dt=(e,t)=>{if(Ct(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new gt(e.common.issues)}};function Ut(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=r?r:t.defaultError}:{message:null!=n?n:t.defaultError},description:i}}class Lt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return yt(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:yt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new St,ctx:{common:e.parent.common,data:e.data,parsedType:yt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Rt(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yt(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Dt(r,i)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yt(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(Rt(r)?r:Promise.resolve(r));return Dt(n,i)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const i=e(t),a=()=>r.addIssue({code:_t.custom,...n(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then((e=>!!e||(a(),!1))):!!i||(a(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new Tn({schema:this,typeName:Mn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return wn.create(this,this._def)}nullable(){return On.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tn.create(this,this._def)}promise(){return bn.create(this,this._def)}or(e){return on.create([this,e],this._def)}and(e){return ln.create(this,e,this._def)}transform(e){return new Tn({...Ut(this._def),schema:this,typeName:Mn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new Sn({...Ut(this._def),innerType:this,defaultValue:t,typeName:Mn.ZodDefault})}brand(){return new Nn({typeName:Mn.ZodBranded,type:this,...Ut(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new In({...Ut(this._def),innerType:this,catchValue:t,typeName:Mn.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return kn.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const jt=/^c[^\s-]{8,}$/i,Zt=/^[a-z][a-z0-9]*$/,Bt=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,zt=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|([^-]([a-zA-Z0-9-]*\.)+[a-zA-Z]{2,}))$/;class Wt extends Lt{constructor(){super(...arguments),this._regex=(e,t,n)=>this.refinement((t=>e.test(t)),{validation:t,code:_t.invalid_string,...Mt.errToObj(n)}),this.nonempty=e=>this.min(1,Mt.errToObj(e)),this.trim=()=>new Wt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==vt.string){const t=this._getOrReturnCtx(e);return Ot(t,{code:_t.invalid_type,expected:vt.string,received:t.parsedType}),It}const t=new St;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),Ot(n,{code:_t.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),Ot(n,{code:_t.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,a=e.data.length<i.value;(r||a)&&(n=this._getOrReturnCtx(e,n),r?Ot(n,{code:_t.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Ot(n,{code:_t.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)zt.test(e.data)||(n=this._getOrReturnCtx(e,n),Ot(n,{validation:"email",code:_t.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)Bt.test(e.data)||(n=this._getOrReturnCtx(e,n),Ot(n,{validation:"uuid",code:_t.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)jt.test(e.data)||(n=this._getOrReturnCtx(e,n),Ot(n,{validation:"cuid",code:_t.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)Zt.test(e.data)||(n=this._getOrReturnCtx(e,n),Ot(n,{validation:"cuid2",code:_t.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),Ot(n,{validation:"url",code:_t.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Ot(n,{validation:"regex",code:_t.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),Ot(n,{code:_t.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),Ot(n,{code:_t.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){((r=i).precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):0===r.precision?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(n=this._getOrReturnCtx(e,n),Ot(n,{code:_t.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else pt.assertNever(i);var r;return{status:t.value,value:e.data}}_addCheck(e){return new Wt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Mt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Mt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Mt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Mt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Mt.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...Mt.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Mt.errToObj(t)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Mt.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Mt.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Mt.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Mt.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Mt.errToObj(t)})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Ft(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}Wt.create=e=>{var t;return new Wt({checks:[],typeName:Mn.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...Ut(e)})};class Gt extends Lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==vt.number){const t=this._getOrReturnCtx(e);return Ot(t,{code:_t.invalid_type,expected:vt.number,received:t.parsedType}),It}let t;const n=new St;for(const r of this._def.checks)if("int"===r.kind)pt.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Ot(t,{code:_t.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Ot(t,{code:_t.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Ot(t,{code:_t.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==Ft(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Ot(t,{code:_t.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Ot(t,{code:_t.not_finite,message:r.message}),n.dirty()):pt.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Mt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Mt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Mt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Mt.toString(t))}setLimit(e,t,n,r){return new Gt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Mt.toString(r)}]})}_addCheck(e){return new Gt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Mt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Mt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Mt.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Mt.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&pt.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Gt.create=e=>new Gt({checks:[],typeName:Mn.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...Ut(e)});class Ht extends Lt{_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==vt.bigint){const t=this._getOrReturnCtx(e);return Ot(t,{code:_t.invalid_type,expected:vt.bigint,received:t.parsedType}),It}return Pt(e.data)}}Ht.create=e=>{var t;return new Ht({typeName:Mn.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...Ut(e)})};class Kt extends Lt{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==vt.boolean){const t=this._getOrReturnCtx(e);return Ot(t,{code:_t.invalid_type,expected:vt.boolean,received:t.parsedType}),It}return Pt(e.data)}}Kt.create=e=>new Kt({typeName:Mn.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...Ut(e)});class Vt extends Lt{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==vt.date){const t=this._getOrReturnCtx(e);return Ot(t,{code:_t.invalid_type,expected:vt.date,received:t.parsedType}),It}if(isNaN(e.data.getTime())){return Ot(this._getOrReturnCtx(e),{code:_t.invalid_date}),It}const t=new St;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Ot(n,{code:_t.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Ot(n,{code:_t.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):pt.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Vt({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Mt.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Mt.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Vt.create=e=>new Vt({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Mn.ZodDate,...Ut(e)});class Jt extends Lt{_parse(e){if(this._getType(e)!==vt.symbol){const t=this._getOrReturnCtx(e);return Ot(t,{code:_t.invalid_type,expected:vt.symbol,received:t.parsedType}),It}return Pt(e.data)}}Jt.create=e=>new Jt({typeName:Mn.ZodSymbol,...Ut(e)});class qt extends Lt{_parse(e){if(this._getType(e)!==vt.undefined){const t=this._getOrReturnCtx(e);return Ot(t,{code:_t.invalid_type,expected:vt.undefined,received:t.parsedType}),It}return Pt(e.data)}}qt.create=e=>new qt({typeName:Mn.ZodUndefined,...Ut(e)});class $t extends Lt{_parse(e){if(this._getType(e)!==vt.null){const t=this._getOrReturnCtx(e);return Ot(t,{code:_t.invalid_type,expected:vt.null,received:t.parsedType}),It}return Pt(e.data)}}$t.create=e=>new $t({typeName:Mn.ZodNull,...Ut(e)});class Yt extends Lt{constructor(){super(...arguments),this._any=!0}_parse(e){return Pt(e.data)}}Yt.create=e=>new Yt({typeName:Mn.ZodAny,...Ut(e)});class Qt extends Lt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Pt(e.data)}}Qt.create=e=>new Qt({typeName:Mn.ZodUnknown,...Ut(e)});class Xt extends Lt{_parse(e){const t=this._getOrReturnCtx(e);return Ot(t,{code:_t.invalid_type,expected:vt.never,received:t.parsedType}),It}}Xt.create=e=>new Xt({typeName:Mn.ZodNever,...Ut(e)});class en extends Lt{_parse(e){if(this._getType(e)!==vt.undefined){const t=this._getOrReturnCtx(e);return Ot(t,{code:_t.invalid_type,expected:vt.void,received:t.parsedType}),It}return Pt(e.data)}}en.create=e=>new en({typeName:Mn.ZodVoid,...Ut(e)});class tn extends Lt{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==vt.array)return Ot(t,{code:_t.invalid_type,expected:vt.array,received:t.parsedType}),It;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(Ot(t,{code:e?_t.too_big:_t.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Ot(t,{code:_t.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Ot(t,{code:_t.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new xt(t,e,t.path,n))))).then((e=>St.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new xt(t,e,t.path,n))));return St.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new tn({...this._def,minLength:{value:e,message:Mt.toString(t)}})}max(e,t){return new tn({...this._def,maxLength:{value:e,message:Mt.toString(t)}})}length(e,t){return new tn({...this._def,exactLength:{value:e,message:Mt.toString(t)}})}nonempty(e){return this.min(1,e)}}var nn;function rn(e){if(e instanceof an){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=wn.create(rn(r))}return new an({...e._def,shape:()=>t})}return e instanceof tn?tn.create(rn(e.element)):e instanceof wn?wn.create(rn(e.unwrap())):e instanceof On?On.create(rn(e.unwrap())):e instanceof pn?pn.create(e.items.map((e=>rn(e)))):e}tn.create=(e,t)=>new tn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Mn.ZodArray,...Ut(t)}),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(nn||(nn={}));class an extends Lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=pt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==vt.object){const t=this._getOrReturnCtx(e);return Ot(t,{code:_t.invalid_type,expected:vt.object,received:t.parsedType}),It}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Xt&&"strip"===this._def.unknownKeys))for(const e in n.data)i.includes(e)||a.push(e);const o=[];for(const e of i){const t=r[e],i=n.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new xt(n,i,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Xt){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of a)o.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)a.length>0&&(Ot(n,{code:_t.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new xt(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>St.mergeObjectSync(t,e))):St.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return new an({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,a,o;const s=null!==(a=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==a?a:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=Mt.errToObj(e).message)&&void 0!==o?o:s}:{message:s}}}:{}})}strip(){return new an({...this._def,unknownKeys:"strip"})}passthrough(){return new an({...this._def,unknownKeys:"passthrough"})}extend(e){return new an({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new an({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>nn.mergeShapes(this._def.shape(),e._def.shape()),typeName:Mn.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new an({...this._def,catchall:e})}pick(e){const t={};return pt.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new an({...this._def,shape:()=>t})}omit(e){const t={};return pt.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new an({...this._def,shape:()=>t})}deepPartial(){return rn(this)}partial(e){const t={};return pt.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new an({...this._def,shape:()=>t})}required(e){const t={};return pt.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof wn;)e=e._def.innerType;t[n]=e}})),new an({...this._def,shape:()=>t})}keyof(){return _n(pt.objectKeys(this.shape))}}an.create=(e,t)=>new an({shape:()=>e,unknownKeys:"strip",catchall:Xt.create(),typeName:Mn.ZodObject,...Ut(t)}),an.strictCreate=(e,t)=>new an({shape:()=>e,unknownKeys:"strict",catchall:Xt.create(),typeName:Mn.ZodObject,...Ut(t)}),an.lazycreate=(e,t)=>new an({shape:e,unknownKeys:"strip",catchall:Xt.create(),typeName:Mn.ZodObject,...Ut(t)});class on extends Lt{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new gt(e.ctx.common.issues)));return Ot(t,{code:_t.invalid_union,unionErrors:n}),It}));{let e;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new gt(e)));return Ot(t,{code:_t.invalid_union,unionErrors:i}),It}}get options(){return this._def.options}}on.create=(e,t)=>new on({options:e,typeName:Mn.ZodUnion,...Ut(t)});const sn=e=>e instanceof vn?sn(e.schema):e instanceof Tn?sn(e.innerType()):e instanceof yn?[e.value]:e instanceof gn?e.options:e instanceof En?Object.keys(e.enum):e instanceof Sn?sn(e._def.innerType):e instanceof qt?[void 0]:e instanceof $t?[null]:null;class un extends Lt{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==vt.object)return Ot(t,{code:_t.invalid_type,expected:vt.object,received:t.parsedType}),It;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(Ot(t,{code:_t.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),It)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=sn(n.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of t){if(r.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);r.set(i,n)}}return new un({typeName:Mn.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...Ut(n)})}}function cn(e,t){const n=yt(e),r=yt(t);if(e===t)return{valid:!0,data:e};if(n===vt.object&&r===vt.object){const n=pt.objectKeys(t),r=pt.objectKeys(e).filter((e=>-1!==n.indexOf(e))),i={...e,...t};for(const n of r){const r=cn(e[n],t[n]);if(!r.valid)return{valid:!1};i[n]=r.data}return{valid:!0,data:i}}if(n===vt.array&&r===vt.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=cn(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===vt.date&&r===vt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ln extends Lt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(Nt(e)||Nt(r))return It;const i=cn(e.value,r.value);return i.valid?((kt(e)||kt(r))&&t.dirty(),{status:t.value,value:i.data}):(Ot(n,{code:_t.invalid_intersection_types}),It)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ln.create=(e,t,n)=>new ln({left:e,right:t,typeName:Mn.ZodIntersection,...Ut(n)});class pn extends Lt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==vt.array)return Ot(n,{code:_t.invalid_type,expected:vt.array,received:n.parsedType}),It;if(n.data.length<this._def.items.length)return Ot(n,{code:_t.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),It;!this._def.rest&&n.data.length>this._def.items.length&&(Ot(n,{code:_t.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new xt(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>St.mergeArray(t,e))):St.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new pn({...this._def,rest:e})}}pn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pn({items:e,typeName:Mn.ZodTuple,rest:null,...Ut(t)})};class dn extends Lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==vt.object)return Ot(n,{code:_t.invalid_type,expected:vt.object,received:n.parsedType}),It;const r=[],i=this._def.keyType,a=this._def.valueType;for(const e in n.data)r.push({key:i._parse(new xt(n,e,n.path,e)),value:a._parse(new xt(n,n.data[e],n.path,e))});return n.common.async?St.mergeObjectAsync(t,r):St.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new dn(t instanceof Lt?{keyType:e,valueType:t,typeName:Mn.ZodRecord,...Ut(n)}:{keyType:Wt.create(),valueType:e,typeName:Mn.ZodRecord,...Ut(t)})}}class fn extends Lt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==vt.map)return Ot(n,{code:_t.invalid_type,expected:vt.map,received:n.parsedType}),It;const r=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map((([e,t],a)=>({key:r._parse(new xt(n,e,n.path,[a,"key"])),value:i._parse(new xt(n,t,n.path,[a,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of a){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return It;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of a){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return It;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}fn.create=(e,t,n)=>new fn({valueType:t,keyType:e,typeName:Mn.ZodMap,...Ut(n)});class hn extends Lt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==vt.set)return Ot(n,{code:_t.invalid_type,expected:vt.set,received:n.parsedType}),It;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Ot(n,{code:_t.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Ot(n,{code:_t.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return It;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const o=[...n.data.values()].map(((e,t)=>i._parse(new xt(n,e,n.path,t))));return n.common.async?Promise.all(o).then((e=>a(e))):a(o)}min(e,t){return new hn({...this._def,minSize:{value:e,message:Mt.toString(t)}})}max(e,t){return new hn({...this._def,maxSize:{value:e,message:Mt.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}hn.create=(e,t)=>new hn({valueType:e,minSize:null,maxSize:null,typeName:Mn.ZodSet,...Ut(t)});class mn extends Lt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==vt.function)return Ot(t,{code:_t.invalid_type,expected:vt.function,received:t.parsedType}),It;function n(e,n){return wt({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Tt(),Et].filter((e=>!!e)),issueData:{code:_t.invalid_arguments,argumentsError:n}})}function r(e,n){return wt({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Tt(),Et].filter((e=>!!e)),issueData:{code:_t.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},a=t.data;return this._def.returns instanceof bn?Pt((async(...e)=>{const t=new gt([]),o=await this._def.args.parseAsync(e,i).catch((r=>{throw t.addIssue(n(e,r)),t})),s=await a(...o);return await this._def.returns._def.type.parseAsync(s,i).catch((e=>{throw t.addIssue(r(s,e)),t}))})):Pt(((...e)=>{const t=this._def.args.safeParse(e,i);if(!t.success)throw new gt([n(e,t.error)]);const o=a(...t.data),s=this._def.returns.safeParse(o,i);if(!s.success)throw new gt([r(o,s.error)]);return s.data}))}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new mn({...this._def,args:pn.create(e).rest(Qt.create())})}returns(e){return new mn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new mn({args:e||pn.create([]).rest(Qt.create()),returns:t||Qt.create(),typeName:Mn.ZodFunction,...Ut(n)})}}class vn extends Lt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}vn.create=(e,t)=>new vn({getter:e,typeName:Mn.ZodLazy,...Ut(t)});class yn extends Lt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ot(t,{received:t.data,code:_t.invalid_literal,expected:this._def.value}),It}return{status:"valid",value:e.data}}get value(){return this._def.value}}function _n(e,t){return new gn({values:e,typeName:Mn.ZodEnum,...Ut(t)})}yn.create=(e,t)=>new yn({value:e,typeName:Mn.ZodLiteral,...Ut(t)});class gn extends Lt{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Ot(t,{expected:pt.joinValues(n),received:t.parsedType,code:_t.invalid_type}),It}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Ot(t,{received:t.data,code:_t.invalid_enum_value,options:n}),It}return Pt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return gn.create(e)}exclude(e){return gn.create(this.options.filter((t=>!e.includes(t))))}}gn.create=_n;class En extends Lt{_parse(e){const t=pt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==vt.string&&n.parsedType!==vt.number){const e=pt.objectValues(t);return Ot(n,{expected:pt.joinValues(e),received:n.parsedType,code:_t.invalid_type}),It}if(-1===t.indexOf(e.data)){const e=pt.objectValues(t);return Ot(n,{received:n.data,code:_t.invalid_enum_value,options:e}),It}return Pt(e.data)}get enum(){return this._def.values}}En.create=(e,t)=>new En({values:e,typeName:Mn.ZodNativeEnum,...Ut(t)});class bn extends Lt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==vt.promise&&!1===t.common.async)return Ot(t,{code:_t.invalid_type,expected:vt.promise,received:t.parsedType}),It;const n=t.parsedType===vt.promise?t.data:Promise.resolve(t.data);return Pt(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}bn.create=(e,t)=>new bn({type:e,typeName:Mn.ZodPromise,...Ut(t)});class Tn extends Lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Mn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null;if("preprocess"===r.type){const e=r.transform(n.data);return n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}const i={addIssue:e=>{Ot(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?It:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?It:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ct(e))return e;const a=r.transform(e.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>Ct(e)?Promise.resolve(r.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}pt.assertNever(r)}}Tn.create=(e,t,n)=>new Tn({schema:e,typeName:Mn.ZodEffects,effect:t,...Ut(n)}),Tn.createWithPreprocess=(e,t,n)=>new Tn({schema:t,effect:{type:"preprocess",transform:e},typeName:Mn.ZodEffects,...Ut(n)});class wn extends Lt{_parse(e){return this._getType(e)===vt.undefined?Pt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wn.create=(e,t)=>new wn({innerType:e,typeName:Mn.ZodOptional,...Ut(t)});class On extends Lt{_parse(e){return this._getType(e)===vt.null?Pt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}On.create=(e,t)=>new On({innerType:e,typeName:Mn.ZodNullable,...Ut(t)});class Sn extends Lt{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===vt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Sn.create=(e,t)=>new Sn({innerType:e,typeName:Mn.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...Ut(t)});class In extends Lt{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.innerType._parse({data:t.data,path:t.path,parent:{...t,common:{...t.common,issues:[]}}});return Rt(n)?n.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue()}))):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue()}}removeCatch(){return this._def.innerType}}In.create=(e,t)=>new In({innerType:e,typeName:Mn.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...Ut(t)});class An extends Lt{_parse(e){if(this._getType(e)!==vt.nan){const t=this._getOrReturnCtx(e);return Ot(t,{code:_t.invalid_type,expected:vt.nan,received:t.parsedType}),It}return{status:"valid",value:e.data}}}An.create=e=>new An({typeName:Mn.ZodNaN,...Ut(e)});const Pn=Symbol("zod_brand");class Nn extends Lt{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class kn extends Lt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?It:"dirty"===e.status?(t.dirty(),At(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?It:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new kn({in:e,out:t,typeName:Mn.ZodPipeline})}}const Cn=(e,t={},n)=>e?Yt.create().superRefine(((r,i)=>{if(!e(r)){const e="function"==typeof t?t(r):t,a="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...a,fatal:n})}})):Yt.create(),Rn={object:an.lazycreate};var Mn;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"}(Mn||(Mn={}));const xn=Wt.create,Dn=Gt.create,Un=An.create,Ln=Ht.create,jn=Kt.create,Zn=Vt.create,Bn=Jt.create,zn=qt.create,Wn=$t.create,Fn=Yt.create,Gn=Qt.create,Hn=Xt.create,Kn=en.create,Vn=tn.create,Jn=an.create,qn=an.strictCreate,$n=on.create,Yn=un.create,Qn=ln.create,Xn=pn.create,er=dn.create,tr=fn.create,nr=hn.create,rr=mn.create,ir=vn.create,ar=yn.create,or=gn.create,sr=En.create,ur=bn.create,cr=Tn.create,lr=wn.create,pr=On.create,dr=Tn.createWithPreprocess,fr=kn.create,hr={string:e=>Wt.create({...e,coerce:!0}),number:e=>Gt.create({...e,coerce:!0}),boolean:e=>Kt.create({...e,coerce:!0}),bigint:e=>Ht.create({...e,coerce:!0}),date:e=>Vt.create({...e,coerce:!0})},mr=It;var vr,yr=Object.freeze({__proto__:null,defaultErrorMap:Et,setErrorMap:function(e){bt=e},getErrorMap:Tt,makeIssue:wt,EMPTY_PATH:[],addIssueToContext:Ot,ParseStatus:St,INVALID:It,DIRTY:At,OK:Pt,isAborted:Nt,isDirty:kt,isValid:Ct,isAsync:Rt,get util(){return pt},ZodParsedType:vt,getParsedType:yt,ZodType:Lt,ZodString:Wt,ZodNumber:Gt,ZodBigInt:Ht,ZodBoolean:Kt,ZodDate:Vt,ZodSymbol:Jt,ZodUndefined:qt,ZodNull:$t,ZodAny:Yt,ZodUnknown:Qt,ZodNever:Xt,ZodVoid:en,ZodArray:tn,get objectUtil(){return nn},ZodObject:an,ZodUnion:on,ZodDiscriminatedUnion:un,ZodIntersection:ln,ZodTuple:pn,ZodRecord:dn,ZodMap:fn,ZodSet:hn,ZodFunction:mn,ZodLazy:vn,ZodLiteral:yn,ZodEnum:gn,ZodNativeEnum:En,ZodPromise:bn,ZodEffects:Tn,ZodTransformer:Tn,ZodOptional:wn,ZodNullable:On,ZodDefault:Sn,ZodCatch:In,ZodNaN:An,BRAND:Pn,ZodBranded:Nn,ZodPipeline:kn,custom:Cn,Schema:Lt,ZodSchema:Lt,late:Rn,get ZodFirstPartyTypeKind(){return Mn},coerce:hr,any:Fn,array:Vn,bigint:Ln,boolean:jn,date:Zn,discriminatedUnion:Yn,effect:cr,enum:or,function:rr,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>Cn((t=>t instanceof e),t,!0),intersection:Qn,lazy:ir,literal:ar,map:tr,nan:Un,nativeEnum:sr,never:Hn,null:Wn,nullable:pr,number:Dn,object:Jn,oboolean:()=>jn().optional(),onumber:()=>Dn().optional(),optional:lr,ostring:()=>xn().optional(),pipeline:fr,preprocess:dr,promise:ur,record:er,set:nr,strictObject:qn,string:xn,symbol:Bn,transformer:cr,tuple:Xn,undefined:zn,union:$n,unknown:Gn,void:Kn,NEVER:mr,ZodIssueCode:_t,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:gt}),_r=(vr=function(e){var t,n,r,i=null===(t=re())||void 0===t?void 0:t.platformName,a=e.action.replace("action.","").replace(/\./g,"_").toUpperCase(),o=k[a],s=(null==o?void 0:o.skipJump)||!1,u=(null==o?void 0:o.errorList)||{};if("JUMP_LOGIN"===a)return new Ke(A.UNKNOWN_ERROR,"Can not get auth code: ".concat(e.error_message));if($e.jumpStatus!==f.DONE&&!s)return new Ke(N.UNAUTHORIZED.code,N.UNAUTHORIZED.message);if("permission required!"===String(e.error_message).toLowerCase()||"no permission!"===String(e.error_message).toLowerCase())return new Ke(N.FORBIDDEN.code,N.FORBIDDEN.message);if(i&&(null===(n=C[i])||void 0===n?void 0:n[e.error_code]))return new Ke(C[i][e.error_code].code,C[i][e.error_code].message);var c=null==u||null===(r=u[i])||void 0===r?void 0:r[String(e.error_code)];if(c){var l,p,d,h=null===(l=c.mapTo)||void 0===l?void 0:l.message;return(null==c?void 0:c.needMoreDetail)&&(h="".concat(null==c||null===(d=c.mapTo)||void 0===d?void 0:d.message,": ").concat(e.error_message)),new Ke(null===(p=c.mapTo)||void 0===p?void 0:p.code,h)}return new Ke(e.error_code,e.error_message)},function(t,n,r,i){var a=function(t,n){function r(r){return function(i){var a=ye.isEmpty(n)?void 0:n[r];if(a)return ae({stage:e.RESPONSE,type:"log",state:r,name:t,response:i}),a("fail"===r?vr(i):null==i?void 0:i.data)}}return ye.isUndefined(t)&&(t=""),Object.assign({},{success:r("success"),fail:r("fail")})}(t,r),o=k[t],s=(null==i?void 0:i.delay)||0;setTimeout((function(){Ge(t,n,a,ue({},i,o))}),s)}),gr=function(){function e(){var t,n,i,o,s,u,c,l,p,d,f,h,m,v,y,_,g,E,b,T,w,O,S,I,A,P,N;_e(this,e),this.initConfig=window.APP_CONFIG;var k=ye.isString(null===(t=this.initConfig)||void 0===t||null===(n=t.app)||void 0===n?void 0:n.headerColor)&&(null===(i=this.initConfig)||void 0===i||null===(o=i.app)||void 0===o||null===(s=o.headerColor)||void 0===s?void 0:s.length)>0?B:z;this.hideIOSSafeAreaBottom=!!(null===(u=this.initConfig)||void 0===u||null===(c=u.app)||void 0===c?void 0:c.hideIOSSafeAreaBottom),this.hideAndroidBottomNavigationBar=!!(null===(l=this.initConfig)||void 0===l||null===(p=l.app)||void 0===p?void 0:p.hideAndroidBottomNavigationBar);var C,R,M="none"===(null===(d=this.initConfig)||void 0===d||null===(f=d.app)||void 0===f?void 0:f.leftButton)||"home"===(null===(h=this.initConfig)||void 0===h||null===(m=h.app)||void 0===m?void 0:m.leftButton)?Z.HIDE_BACK:Z.SHOW_BACK,x="home"===(null===(v=this.initConfig)||void 0===v||null===(y=v.app)||void 0===y?void 0:y.leftButton)||"both"===(null===(_=this.initConfig)||void 0===_||null===(g=_.app)||void 0===g?void 0:g.leftButton)?Z.SHOW_HOME:Z.HIDE_HOME,D=new URL(location.href),U=it(null===(E=this.initConfig)||void 0===E||null===(b=E.app)||void 0===b?void 0:b.statusBar);"boolean"==typeof(null===(T=this.initConfig)||void 0===T||null===(w=T.app)||void 0===w?void 0:w.actionBarHidden)&&(k=(null===(C=this.initConfig)||void 0===C||null===(R=C.app)||void 0===R?void 0:R.actionBarHidden)?z:B);this.config={actionbarType:k,buttonType:M,statusbarType:U,dataConfig:{backgroundColor:(null===(O=this.initConfig)||void 0===O||null===(S=O.app)||void 0===S?void 0:S.headerColor)||W,textColor:(null===(I=this.initConfig)||void 0===I||null===(A=I.app)||void 0===A?void 0:A.textColor)||"",textAlign:(null===(P=this.initConfig)||void 0===P||null===(N=P.app)||void 0===N?void 0:N.textAlign)||F,viewInLeftType:M,confirmToExit:1},homeConfig:{enable:x,url:"".concat(a,"/").concat(r,"/").concat(D.search)}}}var t=e.prototype;return t.setNavigationBarTitle=function(e){return K((function(){return Y(this,(function(t){return[2,new Promise((function(t,n){_r("CHANGE_TITLE_HEADER",{title:e},{success:function(e){t()},fail:function(e){n(e)}},{timeout:!1})}))]}))}))()},t.setNavigationBarLeftButton=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.dataConfig.confirmToExit,n=this;return K((function(){var r,i;return Y(this,(function(a){return void 0===(void 0===e?"undefined":le(e))&&null===(void 0===e?"undefined":le(e))||(r="none"===e||"home"===e?Z.HIDE_BACK:Z.SHOW_BACK,i="home"===e||"both"===e?Z.SHOW_HOME:Z.HIDE_HOME,n.config.buttonType=r,n.config.dataConfig.viewInLeftType=r,n.config.homeConfig.enable=i),n.config.dataConfig.confirmToExit=t,[2,new Promise((function(e,t){_r("CHANGE_ACTIONBAR_LEFTBUTTON_TYPE",ue({},n.config),{success:function(t){e()},fail:function(e){t(e)}},{timeout:!1})}))]}))}))()},t.setAndroidBottomNavigationBar=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;return K((function(){var n,r,i;return Y(this,(function(a){return r=e?O.hide:O.show,i=null===(n=re())||void 0===n?void 0:n.platform,[2,new Promise((function(n,a){if(!(null==i?void 0:i.isAndroid))return n();_r("CHANGE_BOTTOMBAR",{bottombarType:r},{success:function(r){t.hideAndroidBottomNavigationBar=!!e,window.ANDROID_BOTTOM_NAVIGATION_BAR_HIDDEN=!!e,n()},fail:function(e){a(e)}},{timeout:!1})}))]}))}))()},t.setIOSBottomSafeArea=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;return K((function(){var n,r,i;return Y(this,(function(a){return r=e?S.hide:S.show,i=null===(n=re())||void 0===n?void 0:n.platform,[2,new Promise((function(n,a){if(!(null==i?void 0:i.isIOS))return n();_r("CHANGE_BOTTOMBAR",{bottombarType:r},{success:function(r){t.hideIOSSafeAreaBottom=!!e,window.IOS_BOTTOM_SAFE_AREA_HIDDEN=!!e,n()},fail:function(e){a(e)}},{timeout:!1,delay:200})}))]}))}))()},t.configHeader=function(e){var t=this;return K((function(){var n;return Y(this,(function(r){return n=t.config,ye.isString(e.headerColor)&&(n.dataConfig.backgroundColor=e.headerColor),ye.isString(e.headerTextColor)&&(n.dataConfig.textColor=e.headerTextColor),ye.isString(e.textAlign)&&("left"===e.textAlign?n.dataConfig.textAlign=I.left:"center"===e.textAlign&&(n.dataConfig.textAlign=I.center)),!0===e.hideActionBar?n.actionbarType=z:!1===e.hideActionBar&&(n.actionbarType=B),"normal"===e.statusBarType?n.statusbarType=w.normal:"hidden"===e.statusBarType?n.statusbarType=w.hidden:"transparent"===e.statusBarType&&(n.statusbarType=w.transparent),[2,new Promise((function(r,i){_r("CHANGE_ACTIONBAR",ue({},n),{success:function(i){var a;t.config=ue({},n);var o,s=null===(a=re())||void 0===a?void 0:a.platform;window.STATUS_BAR_TYPE=(o=t.config.statusbarType)===w.hidden?"hidden":o===w.transparent?"transparent":"normal",window.ACTION_BAR_HIDDEN=t.config.actionbarType===z;var u=null===document||void 0===document?void 0:document.querySelector(":root");if(null==s?void 0:s.isAndroid){var c=0;if(("hidden"===e.statusBarType||"transparent"===e.statusBarType)&&e.hideActionBar){var l=window.ANDROID_STATUS_BAR_HEIGHT;isNaN(l)&&(l=Math.round(ZaloJavaScriptInterface.getStatusBarHeight()/window.devicePixelRatio)),c=l}c?null==u||u.style.setProperty("--zaui-safe-area-inset-top","".concat(c,"px")):null==u||u.style.setProperty("--zaui-safe-area-inset-top","env(safe-area-inset-top, 0px)")}r()},fail:function(e){i(e)}},{timeout:!1})}))]}))}))()},e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e}(),Er=gr.getInstance(),br=[Jn({title:xn()}).optional()];function Tr(e){return wr.apply(this,arguments)}function wr(){return wr=K((function(e){return Y(this,(function(t){return[2,ot("setNavigationBarTitle",br,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,Er.setNavigationBarTitle(e.title)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("setNavigationBarTitle",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),wr.apply(this,arguments)}var Or=[Jn({color:xn(),textColor:yr.enum(["black","white"]).optional(),statusBarColor:xn().optional()}).optional()];function Sr(e){return Ir.apply(this,arguments)}function Ir(){return Ir=K((function(e){return Y(this,(function(t){return[2,ot("setNavigationBarColor",Or,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,Er.configHeader({hideActionBar:!(e.color.length>0),headerTextColor:e.textColor,headerColor:e.color.length>0?e.color:e.statusBarColor})]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("setNavigationBarColor",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Ir.apply(this,arguments)}var Ar=[Jn({type:yr.enum(["none","back","home","both"])}).optional()];function Pr(e){return Nr.apply(this,arguments)}function Nr(){return Nr=K((function(e){return Y(this,(function(t){return[2,ot("setNavigationBarLeftButton",Ar,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,Er.setNavigationBarLeftButton(e.type,0)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("setNavigationBarLeftButton",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Nr.apply(this,arguments)}function kr(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Cr(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,kr(e,t,"get"))}function Rr(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Mr(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,kr(e,t,"set"),n),n}var xr,Dr,Ur,Lr=new WeakMap,jr=new WeakMap,Zr=new WeakMap,Br=function(){function e(t){_e(this,e),Rr(this,Lr,{writable:!0,value:localStorage}),Rr(this,jr,{writable:!0,value:void 0}),Rr(this,Zr,{writable:!0,value:void 0}),Mr(this,Zr,{keys:new Set,currentSize:0,limitSize:M}),Mr(this,jr,t),this.findAllCurrentDataByApp(t)}var t=e.prototype;return t.findAllCurrentDataByApp=function(e){try{var t;for(t in Cr(this,Lr)){if(e)if(t.split("_")[0]!==e)continue;Cr(this,Zr).keys.add(t)}}catch(e){}},t.get=function(e){var t=this,n=new Map;return e.forEach((function(e){n.set(e,t.getSync(e))})),Promise.resolve(n)},t.getSync=function(e){return Cr(this,jr)&&(e="".concat(Cr(this,jr),"_").concat(e)),Cr(this,Zr).keys.has(e)?Cr(this,Lr).getItem(e):null},t.set=function(e){var t=this;return K((function(){return Y(this,(function(n){return Object.entries(e).forEach((function(e){var n=ce(e,2),r=n[0],i=n[1];t.setSync(r,i.replace(/\\"/g,'"'))})),[2,Promise.resolve({errorKeys:[]})]}))}))()},t.setSync=function(e,t){Cr(this,jr)&&(e="".concat(Cr(this,jr),"_").concat(e)),Cr(this,Lr).setItem(e,t),Cr(this,Zr).keys.add(e)},t.getInfo=function(){var e=this;return K((function(){return Y(this,(function(t){return[2,Promise.resolve(e.getInfoSync())]}))}))()},t.getInfoSync=function(){var e=function(e,t){var n,r=0;for(n in e){var i=n.split("_")[0];e.hasOwnProperty(n)&&(t&&i!==t||(r+=2*(e[n].length+n.length)))}return r}(Cr(this,Lr),Cr(this,jr));return{currentSize:ye.isNumber(e)?Number((e/1024).toFixed(2)):0,limitSize:Number((M/1024).toFixed(2))}},t.remove=function(e){var t=this;return K((function(){return Y(this,(function(n){return e.forEach((function(e){t.removeSync(e)})),[2,Promise.resolve({errorKeys:[]})]}))}))()},t.removeSync=function(e){Cr(this,jr)&&(e="".concat(Cr(this,jr),"_").concat(e)),Cr(this,Zr).keys.has(e)&&(Cr(this,Lr).removeItem(e),Cr(this,Zr).keys.delete(e))},t.clear=function(){var e=this;return K((function(){return Y(this,(function(t){return[2,Promise.resolve(e.clearSync())]}))}))()},t.clearSync=function(){var e=this;Cr(this,Zr).keys.forEach((function(t){Cr(e,jr)&&t.indexOf(Cr(e,jr))<0||(Cr(e,Lr).removeItem(t),Cr(e,Zr).keys.delete(t))}))},e}(),zr=new WeakMap,Wr=new WeakMap,Fr=function(){function e(t){_e(this,e),Rr(this,zr,{writable:!0,value:void 0}),Rr(this,Wr,{writable:!0,value:void 0}),Mr(this,Wr,{keys:new Set,currentSize:0,limitSize:M}),Mr(this,zr,t)}var t=e.prototype;return t.get=function(e){var t=this;return K((function(){return Y(this,(function(n){return[2,new Promise((function(n,r){_r("ZBROWSER_MPDS",{mpds_action:"mpds.get",mpds_data:{keys:e},appId:Cr(t,zr)},{success:function(e){var t=new Map;e&&e.mpds_data&&e.mpds_data.map&&(t=new Map(Object.entries(e.mpds_data.map))),n(t)},fail:function(e){r(e)}},{isMultiCallback:!1})}))]}))}))()},t.set=function(e){var t=this;return K((function(){return Y(this,(function(n){return[2,new Promise((function(n,r){_r("ZBROWSER_MPDS",{mpds_action:"mpds.set",mpds_data:{map:e},appId:Cr(t,zr)},{success:function(e){var t=[];e&&e.mpds_data&&e.mpds_data.error_keys&&(t=e.mpds_data.error_keys),n({errorKeys:t})},fail:function(e){r(e)}},{isMultiCallback:!1})}))]}))}))()},t.getInfo=function(){var e=this;return K((function(){return Y(this,(function(t){return[2,new Promise((function(t,n){_r("ZBROWSER_MPDS",{mpds_action:"mpds.get.size",mpds_data:{},appId:Cr(e,zr)},{success:function(e){var n=0;e&&e.mpds_data&&e.mpds_data.size&&(n=e.mpds_data.size),t({currentSize:ye.isNumber(n)?Number(Number(n)/1024):0,limitSize:Number(M/1024)})},fail:function(e){n(e)}},{isMultiCallback:!1})}))]}))}))()},t.remove=function(e){var t=this;return K((function(){return Y(this,(function(n){return[2,new Promise((function(n,r){_r("ZBROWSER_MPDS",{mpds_action:"mpds.remove.key",mpds_data:{keys:e},appId:Cr(t,zr)},{success:function(e){var t=[];e&&e.mpds_data&&e.mpds_data.error_keys&&(t=e.mpds_data.error_keys),n({errorKeys:t})},fail:function(e){r(e)}},{isMultiCallback:!1})}))]}))}))()},t.clear=function(){var e=this;return K((function(){return Y(this,(function(t){return[2,new Promise((function(t,n){_r("ZBROWSER_MPDS",{mpds_action:"mpds.clear.appData",mpds_data:{},appId:Cr(e,zr)},{success:function(e){t()},fail:function(e){n(e)}},{isMultiCallback:!1})}))]}))}))()},e}(),Gr=function(){function e(){_e(this,e)}var t=e.prototype;return t.getDataFromStorage=function(e){var t=this;return K((function(){var n,r;return Y(this,(function(i){switch(i.label){case 0:return[4,t.getInstance().get(e)];case 1:return n=i.sent(),r={},n.forEach((function(e,t){r[t]=et(e)})),[2,r]}}))}))()},t.putDataToStorage=function(e){var t=this;return K((function(){var n,r;return Y(this,(function(i){switch(i.label){case 0:return n=t.getInstance(),r={},Object.entries(e).forEach((function(e){var t=ce(e,2),n=t[0],i=t[1];ye.isUndefined(i)||ye.isNull(i)||(r[n]=rt(i))})),[4,n.set(r)];case 1:return[2,i.sent()]}}))}))()},t.removeDataFromStorage=function(e){var t=this;return K((function(){return Y(this,(function(n){switch(n.label){case 0:return[4,t.getInstance().remove(e)];case 1:return[2,n.sent()]}}))}))()},t.clearStorage=function(){var e=this;return K((function(){return Y(this,(function(t){switch(t.label){case 0:return[4,e.getInstance().clear()];case 1:return t.sent(),[2]}}))}))()},t.getStorageInfo=function(){var e=this;return K((function(){return Y(this,(function(t){switch(t.label){case 0:return[4,e.getInstance().getInfo()];case 1:return[2,t.sent()]}}))}))()},e}(),Hr=new WeakMap,Kr=function(e){Se(n,e);var t=Ae(n);function n(e){var r;return _e(this,n),Rr(Ie(r=t.call(this)),Hr,{writable:!0,value:void 0}),Mr(Ie(r),Hr,e),r}return n.prototype.getInstance=function(){return new Br(Cr(this,Hr))},n}(Gr),Vr=new WeakMap,Jr=function(e){Se(n,e);var t=Ae(n);function n(e){var r;return _e(this,n),Rr(Ie(r=t.call(this)),Vr,{writable:!0,value:void 0}),Mr(Ie(r),Vr,e),r}return n.prototype.getInstance=function(){return new Fr(Cr(this,Vr))},n}(Gr),qr=new Kr(r),$r=(null===(xr=re())||void 0===xr?void 0:xr.zaloVersion)||"",Yr=(null===(Dr=re())||void 0===Dr?void 0:Dr.platformName)||"unknown";!!ye.isString($r)&&parseInt($r,10)>={android:12100571,iOS:400,wp:0,unknown:0}[Yr]&&(null===(Ur=re())||void 0===Ur?void 0:Ur.appEnv.isMp)&&(qr=new Jr(r));var Qr=qr,Xr=[Jn({data:yr.record(xn(),yr.any())}).optional()];function ei(e){return ti.apply(this,arguments)}function ti(){return ti=K((function(e){return Y(this,(function(t){return[2,ot("setStorage",Xr,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp||ie.isMpWeb?[4,Qr.putDataToStorage(e.data)]:[3,2];case 1:return[2,t.sent()];case 2:return[2,Promise.reject(oe("setStorage",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),ti.apply(this,arguments)}var ni=[Jn({keys:yr.array(xn())}).optional()];function ri(e){return ii.apply(this,arguments)}function ii(){return ii=K((function(e){return Y(this,(function(t){return[2,ot("getStorage",ni,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp||ie.isMpWeb?[4,Qr.getDataFromStorage(e.keys)]:[3,2];case 1:return[2,t.sent()];case 2:return[2,Promise.reject(oe("getStorage",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),ii.apply(this,arguments)}function ai(e){return oi.apply(this,arguments)}function oi(){return(oi=K((function(e){return Y(this,(function(t){return[2,ot("getStorageInfo",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp||ie.isMpWeb?[4,Qr.getStorageInfo()]:[3,2];case 1:return[2,e.sent()];case 2:return[2,Promise.reject(oe("getStorageInfo",{}))]}}))})))]}))}))).apply(this,arguments)}var si=[Jn({keys:yr.array(xn())}).optional()];function ui(e){return ci.apply(this,arguments)}function ci(){return ci=K((function(e){return Y(this,(function(t){return[2,ot("removeStorage",si,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp||ie.isMpWeb?[4,Qr.removeDataFromStorage(e.keys)]:[3,2];case 1:return[2,t.sent()];case 2:return[2,Promise.reject(oe("removeStorage",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),ci.apply(this,arguments)}var li=[Jn({prefix:xn().optional()}).optional()];function pi(e){return di.apply(this,arguments)}function di(){return di=K((function(e){return Y(this,(function(t){return[2,ot("clearStorage",li,[e],function(){var e=K((function(e){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp||ie.isMpWeb?[4,Qr.clearStorage()]:[3,2];case 1:return[2,e.sent()];case 2:return[2,Promise.reject(oe("clearStorage",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),di.apply(this,arguments)}var fi=function(){var e=K((function(e){var t,n;return Y(this,(function(r){switch(r.label){case 0:return[4,$e.getAccessToken()];case 1:return t=r.sent(),n="id,name,user_id_by_oa,picture,is_sensitive",e&&(n="".concat(n,".type(").concat(e,")")),[4,fetch("".concat(c.GET_USER_INFO,"?fields=").concat(n),{headers:{access_token:t||""}}).then(function(){var e=K((function(e){var t,n,r;return Y(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return r=i.sent(),[2,{id:null==r?void 0:r.id,name:null==r?void 0:r.name,avatar:null==r||null===(t=r.picture)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.url,idByOA:null==r?void 0:r.user_id_by_oa,isSensitive:null==r?void 0:r.is_sensitive}]}}))}));return function(t){return e.apply(this,arguments)}}())];case 2:return[2,r.sent()]}}))}));return function(t){return e.apply(this,arguments)}}(),hi=[Jn({avatarType:yr.enum(["small","normal","large"]).optional()}).optional()];function mi(e){return vi.apply(this,arguments)}function vi(){return vi=K((function(e){return Y(this,(function(t){return[2,ot("getUserInfo",hi,[e],function(){var e=K((function(e){var t;return Y(this,(function(n){switch(n.label){case 0:return ie.isMp?(t=null==e?void 0:e.avatarType,[4,fi(t)]):[3,2];case 1:return[2,{userInfo:n.sent()}];case 2:return ie.isMpWeb?[2,Promise.resolve({userInfo:{id:"3368637342326461234",name:"User Name",avatar:"https://h5.zdn.vn/static/images/avatar.png"}})]:[2,Promise.reject(oe("getUserInfo",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),vi.apply(this,arguments)}var yi=function(e){return{NONE:e?-2:0,WIFI:e?0:1,"2G":2,"3G":e?15:2,"4G":e?13:2}},_i=K((function(){return Y(this,(function(e){return[2,new Promise((function(e,t){_r("WEBVIEW_NETWORKTYPE",{url:window.location.href,featureId:""},{success:function(t){var n,r,i,a=t.network,o=(null===(n=re())||void 0===n||null===(r=n.platform)||void 0===r?void 0:r.isAndroid)||!1;switch(a){case yi(o).NONE:i=l.none;break;case yi(o).WIFI:i=l.wifi;break;case yi(o)["2G"]:case yi(o)["3G"]:case yi(o)["4G"]:i=l.cellular;break;default:i=l.unknown}e(i)},fail:function(e){t(e)}},{})}))]}))}));function gi(e){return Ei.apply(this,arguments)}function Ei(){return(Ei=K((function(e){return Y(this,(function(t){return[2,ot("getNetworkType",[],[e],K((function(){var e,t;return Y(this,(function(n){switch(n.label){case 0:return ie.isMp?[4,_i()]:[3,2];case 1:return[2,{networkType:n.sent()}];case 2:if(ie.isMpWeb){switch(e=navigator.connection||navigator.mozConnection||navigator.webkitConnection,e.effectiveType){case"none":t=l.none;break;case"4g":t=l.wifi;break;case"3g":case"2g":t=l.cellular;break;default:t=l.unknown}return[2,Promise.resolve({networkType:t})]}return[2,Promise.reject(oe("getNetworkType",{}))]}}))})))]}))}))).apply(this,arguments)}var bi=[yr.function().args(Jn({isConnected:yr.boolean(),networkType:yr.enum(["none","wifi","cellular","unknown"])})).returns(yr.void())];function Ti(e){return ot("onNetworkStatusChange",bi,[e],(function(e){var t=e;if(ie.isMp)!function(e){Re.getInstance().on(d.NetworkChanged,(function(t){var n=null==t?void 0:t.state;_i().then((function(t){e({isConnected:"CONNECTED"===n,networkType:t})}))}))}(t);else if(ie.isMpWeb){var n=navigator.connection||navigator.mozConnection||navigator.webkitConnection,r=n.effectiveType;n.addEventListener("change",(function(){var e;switch(r){case"none":e=l.none;break;case"4g":e=l.wifi;break;case"3g":case"2g":e=l.cellular;break;default:e=l.unknown}t({isConnected:!0,networkType:e})}))}else;}))}var wi=function(){var e=K((function(e){var t,n,r,i,a,o;return Y(this,(function(s){return o={subaction:0,scanning_type:ye.isNumber(null==e?void 0:e.scanningType)?e.scanningType:0,data:{scan_from_source:ye.isString(null==e?void 0:e.scanFromSource)?e.scanFromSource:"",expire:ye.isNumber(null==e?void 0:e.expire)?e.expire:3e3,monitor_interval:ye.isNumber(null==e?void 0:e.monitorInterval)?e.monitorInterval:60,domain:ye.isString(null==e?void 0:e.domain)?e.domain:"",scan_config:{scan_time:ye.isNumber(null==e||null===(t=e.scanConfig)||void 0===t?void 0:t.scanTime)?e.scanConfig.scanTime:15e3,time_between_scan:ye.isNumber(null==e||null===(n=e.scanConfig)||void 0===n?void 0:n.timeBetweenScan)?e.scanConfig.timeBetweenScan:1e4,beacon_timeout:ye.isNumber(null==e||null===(r=e.scanConfig)||void 0===r?void 0:r.beaconTimeout)?e.scanConfig.beaconTimeout:3e4,delayCheckConnectedTimeout:ye.isNumber(null==e||null===(i=e.scanConfig)||void 0===i?void 0:i.delayCheckConnectedTimeout)?e.scanConfig.delayCheckConnectedTimeout:5e3,beaconConnectedTimeout:ye.isNumber(null==e||null===(a=e.scanConfig)||void 0===a?void 0:a.beaconConnectedTimeout)?e.scanConfig.beaconConnectedTimeout:6e5},items:Array.isArray(null==e?void 0:e.items)?null==e?void 0:e.items:[]}},[2,new Promise((function(e,t){_r("SCAN_IBEACON",ue({},o),{success:function(t){e(!0)},fail:function(e){t(e)}},{})}))]}))}));return function(t){return e.apply(this,arguments)}}(),Oi=[Jn({scanningType:yr.number().refine((function(e){return[0,1].includes(e)}),{message:"The type must be either 0 or 1"}).default(0).optional(),expire:yr.number().optional(),monitorInterval:yr.number().optional(),domain:yr.string().optional(),scanConfig:Jn({scanTime:yr.number().optional(),timeBetweenScan:yr.number().optional(),beaconTimeout:yr.number().optional(),delayCheckConnectedTimeout:yr.number().optional(),beaconConnectedTimeout:yr.number().optional()}).optional(),items:yr.array(Jn({id:yr.string().optional(),distance:yr.number().optional(),monitor:Jn({enable:yr.boolean().optional(),movingRange:yr.number().optional()}).optional()})).optional(),scanFromSource:yr.string().optional()}).optional()];function Si(e){return Ii.apply(this,arguments)}function Ii(){return Ii=K((function(e){return Y(this,(function(t){return[2,ot("startBeaconDiscovery",Oi,[e],function(){var t=K((function(t){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,wi(e)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve(!0)]:[2,Promise.reject(oe("startBeaconDiscovery",{}))]}}))}));return function(e){return t.apply(this,arguments)}}())]}))})),Ii.apply(this,arguments)}var Ai=K((function(){return Y(this,(function(e){return[2,new Promise((function(e,t){_r("SCAN_IBEACON",{subaction:2},{success:function(t){e(!0)},fail:function(e){t(e)}},{})}))]}))}));function Pi(e){return Ni.apply(this,arguments)}function Ni(){return(Ni=K((function(e){return Y(this,(function(t){return[2,ot("stopBeaconDiscovery",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,Ai()]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve(!0)]:[2,Promise.reject(oe("stopBeaconDiscovery",{}))]}}))})))]}))}))).apply(this,arguments)}var ki=K((function(){return Y(this,(function(e){return[2,new Promise((function(e,t){_r("SCAN_IBEACON",{subaction:1},{success:function(t){var n={beacons:[]};Array.isArray(t)&&t.forEach((function(e){var t={uuid:e.uuid,major:e.major,minor:e.minor,distance:e.distance,rssi:e.rssi};n.beacons.push(t)})),e(n)},fail:function(e){t(e)}},{isMultiCallback:!0})}))]}))}));function Ci(e){return Ri.apply(this,arguments)}function Ri(){return(Ri=K((function(e){return Y(this,(function(t){return[2,ot("getBeacons",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,ki()]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve({beacons:[]})]:[2,Promise.reject(oe("getBeacons",{}))]}}))})))]}))}))).apply(this,arguments)}var Mi=K((function(){return Y(this,(function(e){return[2,new Promise((function(e,t){_r("WINDOW_CLOSE",{},{success:function(t){e(t)},fail:function(e){t(e)}},{})}))]}))}));function xi(e){return Di.apply(this,arguments)}function Di(){return(Di=K((function(e){return Y(this,(function(t){return[2,ot("closeApp",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,Mi()]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("closeApp",{}))]}}))})))]}))}))).apply(this,arguments)}var Ui=K((function(){return Y(this,(function(e){return[2,new Promise((function(e,t){_r("OPEN_QR",{skipOpenLink:!0},{success:function(t){e(t)},fail:function(e){t(e)}},{})}))]}))}));function Li(e){return ji.apply(this,arguments)}function ji(){return(ji=K((function(e){return Y(this,(function(t){return[2,ot("scanQRCode",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,Ui()]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve({content:""})]:[2,Promise.reject(oe("scanQRCode",{}))]}}))})))]}))}))).apply(this,arguments)}var Zi=function(){var e=K((function(e,t,r,i){return Y(this,(function(a){return[2,new Promise((function(a,o){_r("OPEN_PROFILE",{uId:e,type:h[t],zapp:n,sourceId:r,sourceIndex:i},{success:function(e){a()},fail:function(e){o(e)}},{})}))]}))}));return function(t,n,r,i){return e.apply(this,arguments)}}(),Bi=[Jn({id:xn(),type:yr.enum(["user","oa","aliasOA"]),sourceId:yr.any().optional(),sourceIndex:yr.any().optional()}).optional()];function zi(e){return Wi.apply(this,arguments)}function Wi(){return Wi=K((function(e){return Y(this,(function(t){return[2,ot("openProfile",Bi,[e],function(){var e=K((function(e){var t,n,r,i;return Y(this,(function(a){switch(a.label){case 0:return ie.isMp?(t=e.id,n=e.type,r=e.sourceId,i=e.sourceIndex,[4,Zi(t,n,r,i)]):[3,2];case 1:return[2,a.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openProfile",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Wi.apply(this,arguments)}var Fi=function(){var e=K((function(e,t){var r,i,a,o=arguments;return Y(this,(function(s){return r=o.length>2&&void 0!==o[2]?o[2]:"",i=o.length>3?o[3]:void 0,a=o.length>4?o[4]:void 0,[2,new Promise((function(o,s){_r("OPEN_CHAT",{uId:e,type:m[t],msg:r,zapp:n,sourceId:i,sourceIndex:a},{success:function(e){o()},fail:function(e){s(e)}},{})}))]}))}));return function(t,n){return e.apply(this,arguments)}}(),Gi=[Jn({id:xn(),type:yr.enum(["user","oa"]),sourceId:yr.any().optional(),sourceIndex:yr.any().optional(),message:xn().optional()}).optional()];function Hi(e){return Ki.apply(this,arguments)}function Ki(){return Ki=K((function(e){return Y(this,(function(t){return[2,ot("openChat",Gi,[e],function(){var e=K((function(e){var t,n,r,i,a;return Y(this,(function(o){switch(o.label){case 0:return ie.isMp?(t=e.id,n=e.type,r=e.message,i=e.sourceId,a=e.sourceIndex,[4,Fi(t,n,r,i,a)]):[3,2];case 1:return[2,o.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openChat",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Ki.apply(this,arguments)}function Vi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var Ji=function(){var e=K((function(e,t){var r;return Y(this,(function(i){switch(r={},e){case"image":r={photoUrl:null==t?void 0:t.imageUrl};break;case"link":r={link:null==t?void 0:t.link,title:null==t?void 0:t.title,thumb:null==t?void 0:t.thumb,description:null==t?void 0:t.description};break;case"profile":r={avt:null==t?void 0:t.avatar,uid:null==t?void 0:t.id,dpn:null==t?void 0:t.displayName}}return[2,new Promise((function(t,i){_r("OPEN_POSTFEED",Vi(ue({type:v[e]},r),{zapp:n}),{success:function(e){t({status:null==e?void 0:e.status,shareType:null==e?void 0:e.share_type,numberOfUser:null==e?void 0:e.uid_to_size})},fail:function(e){i(e)}},{})}))]}))}));return function(t,n){return e.apply(this,arguments)}}(),qi=[yr.union([Jn({type:yr.enum(["image"]),data:Jn({imageUrl:xn().url().optional()})}),Jn({type:yr.enum(["link"]),data:Jn({link:xn().url(),title:xn().max(100).optional(),thumb:xn().url().optional(),description:xn().max(400).default("").optional()})}),Jn({type:yr.enum(["profile"]),data:Jn({id:xn().optional()})})])];function $i(e){return Yi.apply(this,arguments)}function Yi(){return Yi=K((function(e){return Y(this,(function(t){return[2,ot("openPostFeed",qi,[e],function(){var e=K((function(e){var t,n;return Y(this,(function(r){switch(r.label){case 0:return ie.isMp?(t=e.type,n=e.data,[4,Ji(t,n)]):[3,2];case 1:return[2,r.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve({status:1,shareType:0,numberOfUser:0})]:[2,Promise.reject(oe("openPostFeed",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Yi.apply(this,arguments)}var Qi=function(){var e=K((function(e){return Y(this,(function(t){return[2,new Promise((function(t,r){_r("FOLLOW_OA",{uid:e,showDialogConfirm:!0,zapp:n},{success:function(e){t(e)},fail:function(e){r(e)}},{timeout:!1})}))]}))}));return function(t){return e.apply(this,arguments)}}(),Xi=[Jn({id:xn(),showDialogConfirm:yr.boolean().optional()}).optional()];function ea(e){return ta.apply(this,arguments)}function ta(){return ta=K((function(e){return Y(this,(function(t){return[2,ot("followOA",Xi,[e],function(){var e=K((function(e){var t;return Y(this,(function(n){switch(n.label){case 0:return ie.isMp?(t=e.id,[4,Qi(t)]):[3,2];case 1:return[2,n.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("followOA",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),ta.apply(this,arguments)}var na=function(){var e=K((function(e){return Y(this,(function(t){return[2,new Promise((function(t,r){_r("UNFOLLOW_OA",{uid:e,zapp:n},{success:function(e){t()},fail:function(e){r(e)}},{})}))]}))}));return function(t){return e.apply(this,arguments)}}(),ra=[Jn({id:xn()}).optional()];function ia(e){return aa.apply(this,arguments)}function aa(){return aa=K((function(e){return Y(this,(function(t){return[2,ot("unfollowOA",ra,[e],function(){var e=K((function(e){var t;return Y(this,(function(n){switch(n.label){case 0:return ie.isMp?(t=e.id,[4,na(t)]):[3,2];case 1:return[2,n.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("unfollowOA",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),aa.apply(this,arguments)}var oa=function(){var e=K((function(e,t,n,r,a,o){var u,l,p,d,f,h;return Y(this,(function(m){switch(m.label){case 0:return u=new URL(location.href),l=new URLSearchParams,p="".concat(u.pathname.replace(s,"")).concat(u.search),o&&(p="/".concat(e).concat("/"===o[0]?"":"/").concat(o)),d=new URL("".concat(i).concat(p)),l.append("title",n),l.append("description",r||""),l.append("thumbnail",a||""),l.append("url",d.href),l.append("accessToken",t||""),f={headers:{"Content-Type":"application/x-www-form-urlencoded"}},[4,fetch(c.CREATE_SHARE_LINK,ue({method:"POST",body:l},f))];case 1:return[4,m.sent().json()];case 2:if(!(h=m.sent())||0!==h.err)throw Je.error.cannotGetShareInfo();return d.search="".concat(d.search,"&zshareId=").concat(h.data.shareId),[2,Vi(ue({},h.data),{shareableLink:d.href})]}}))}));return function(t,n,r,i,a,o){return e.apply(this,arguments)}}(),sa=function(){var e=K((function(e,t){var i,a,o,s,u,c,l,p,d,f;return Y(this,(function(h){switch(h.label){case 0:switch(i={},a=e,e){case"image":return[3,1];case"gif":return[3,2];case"video":return[3,3];case"link":return[3,4];case"oa":return[3,5];case"zmp":return[3,6];case"zmp_deep_link":return[3,9]}return[3,12];case 1:return c=[],l=(null===(s=re())||void 0===s?void 0:s.zaloVersion)||0,p=(null===(u=re())||void 0===u?void 0:u.platformName)||"unknown",Number(l)>=R[p]&&(a="multi_image"),Array.isArray(null==t?void 0:t.imageUrls)&&(null==t?void 0:t.imageUrls.length)>0?c=null==t?void 0:t.imageUrls:c.push(null==t?void 0:t.imageUrl),i={photoUrls:c,photoUrl:null==t?void 0:t.imageUrl,caption:null==t?void 0:t.caption},[3,13];case 2:return i={photoUrl:null==t?void 0:t.imageUrl,gifUrl:null==t?void 0:t.gifUrl,width:null==t?void 0:t.width,height:null==t?void 0:t.height},[3,13];case 3:return i={videoThumb:null==t?void 0:t.videoThumb,videoUrl:null==t?void 0:t.videoUrl,width:null==t?void 0:t.width,height:null==t?void 0:t.height},[3,13];case 4:return i={link:null==t?void 0:t.link,chatOnly:(null==t?void 0:t.chatOnly)?1:0},[3,13];case 5:return i={uid:null==t?void 0:t.id},[3,13];case 6:case 9:return[4,$e.getAccessToken()];case 7:case 10:return o=h.sent(),[4,oa(r,o||"",(null==t?void 0:t.title)||"",(null==t?void 0:t.description)||"",(null==t?void 0:t.thumbnail)||"",null==t?void 0:t.path)];case 8:return d=h.sent(),i={data:{ZInstantAPIInfo:{url:"".concat(d.zinstantApi),zinstantdata_id:"templateId=".concat(d.ztemplateId,"&appId=").concat(r,"&shareId=").concat(d.shareId)},previewMsgText:{msg:{en:"Zalo Mini Program",vi:"Chương trình nhỏ"}},enableReactions:1}},[3,13];case 11:return f=h.sent().shareableLink,i={link:f,chatOnly:0},[3,13];case 12:return[3,13];case 13:return[2,new Promise((function(e,t){_r("OPEN_SHARESHEET",Vi(ue({type:y[a]},i),{zapp:n}),{success:function(t){e({status:null==t?void 0:t.status,shareType:null==t?void 0:t.share_type,numberOfUser:null==t?void 0:t.uid_to_size})},fail:function(e){t(e)}},{timeout:!1})}))]}}))}));return function(t,n){return e.apply(this,arguments)}}(),ua=[yr.union([Jn({type:yr.enum(["image"]),data:Jn({imageUrl:xn().url(),imageUrls:yr.array(xn().url()).max(10).optional()})}),Jn({type:yr.enum(["link"]),data:Jn({link:xn().url(),chatOnly:yr.boolean().optional()})}),Jn({type:yr.enum(["oa"]),data:Jn({id:xn()})}),Jn({type:yr.enum(["gif"]),data:Jn({gifUrl:xn().url(),imageUrl:xn().url().optional(),width:Dn().min(0).optional(),height:Dn().min(0).optional()})}),Jn({type:yr.enum(["video"]),data:Jn({videoThumb:xn().url(),videoUrl:xn().url(),width:Dn().min(0).optional(),height:Dn().min(0).optional()})}),Jn({type:yr.enum(["zmp","zmp_deep_link"]),data:Jn({title:xn().max(100),thumbnail:xn().url(),path:xn().optional(),description:xn().max(400).default("").optional()})})])];function ca(e){return la.apply(this,arguments)}function la(){return la=K((function(e){return Y(this,(function(t){return[2,ot("openShareSheet",ua,[e],function(){var e=K((function(e){var t,n;return Y(this,(function(r){switch(r.label){case 0:return ie.isMp?(t=e.type,n=e.data,[4,sa(t,n)]):[3,2];case 1:return[2,r.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve({status:2,shareType:0,numberOfUser:0})]:[2,Promise.reject(oe("openShareSheet",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),la.apply(this,arguments)}var pa=K((function(){return Y(this,(function(e){return[2,new Promise((function(e,t){_r("REQUEST_PERMISSION_CAMERA",{},{success:function(t){e({userAllow:(null==t?void 0:t.error_code)>=0,message:null==t?void 0:t.error_message})},fail:function(n){var r,i;(null===(r=re())||void 0===r||null===(i=r.platform)||void 0===i?void 0:i.isAndroid)&&"number"==typeof(null==n?void 0:n.code)?e({userAllow:(null==n?void 0:n.code)>=0,message:null==n?void 0:n.message}):t(n)}},{})}))]}))}));function da(e){return fa.apply(this,arguments)}function fa(){return(fa=K((function(e){return Y(this,(function(t){return[2,ot("requestCameraPermission",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return[4,pa()];case 1:return[2,e.sent()]}}))})))]}))}))).apply(this,arguments)}var ha=function(){var e=K((function(e,t,n){return Y(this,(function(r){return[2,new Promise((function(r,i){_r("CREATE_SHORTCUT",{url:e,title:t,iconUrl:n},{success:function(e){r(e)},fail:function(e){i(e)}},{})}))]}))}));return function(t,n,r){return e.apply(this,arguments)}}(),ma=K((function(){var e,t,n,i=arguments;return Y(this,(function(a){switch(a.label){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:r,t=i.length>1&&void 0!==i[1]?i[1]:0,n=ht(),[4,We(e,t,n.version)];case 1:return[2,a.sent()]}}))})),va=function(){var e=K((function(e){return Y(this,(function(t){return[2,new Promise((function(t,n){_r("OPEN_OUTAPP",{url:e},{success:function(e){t()},fail:function(e){n(e)}},{})}))]}))}));return function(t){return e.apply(this,arguments)}}(),ya=[Jn({params:yr.record(xn(),xn()).optional()}).optional()];function _a(e){return ga.apply(this,arguments)}function ga(){return ga=K((function(e){return Y(this,(function(t){return[2,ot("createShortcut",ya,[e],function(){var e=K((function(e){var t,n,a,o,s,u,c,l;return Y(this,(function(p){switch(p.label){case 0:return ie.isMp?[4,ma(r,0)]:[3,6];case 1:return a=p.sent(),o=null===(t=re())||void 0===t||null===(n=t.platform)||void 0===n?void 0:n.isIOS,s=a.logoUrl||nt("og:image:url")||"",u=a.name||document.title,(c=(null==e?void 0:e.params)?new URLSearchParams(null==e?void 0:e.params):new URLSearchParams).append("utm_source","zalo-shortcut"),c.append("utm_medium","default"),c.append("utm_campaign","default"),o?(c.append("appId",r),c.append("appName",u),c.append("appIcon",s),l="https://mini.zalo.me/shortcut.html?".concat(c.toString()),[4,va(encodeURI(l))]):[3,3];case 2:return p.sent(),[3,5];case 3:return[4,ha("".concat(i,"/").concat(r,"/?").concat(c.toString()),u,s)];case 4:p.sent(),p.label=5;case 5:return[2,Je.success()];case 6:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("createShortcut",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),ga.apply(this,arguments)}var Ea=function(){var e=K((function(e,t,r){return Y(this,(function(i){return[2,new Promise((function(i,a){_r("PROMPT_AUTHENTICATION",{secret_data:e,app_id:n,ui:{title:null==t?void 0:t.title,sub_title:null==t?void 0:t.subTitle,negative_text:null==t?void 0:t.negativeButtonText},require_fingerprint:r?1:0},{success:function(e){var t,n,r,a;i({code:null==e?void 0:e.error_code,message:null==e?void 0:e.error_message,data:{domain:null==e||null===(t=e.data)||void 0===t?void 0:t.domain,code:null==e||null===(n=e.data)||void 0===n?void 0:n.error_code,message:null==e||null===(r=e.data)||void 0===r?void 0:r.error_message,payToken:null==e||null===(a=e.data)||void 0===a?void 0:a.pay_token}})},fail:function(e){a(e)}},{})}))]}))}));return function(t,n,r){return e.apply(this,arguments)}}(),ba=[Jn({secretData:xn(),ui:Jn({title:xn().default("Xác thực").optional(),subTitle:xn().default("Sử dụng sinh trắc học của bạn để xác thực").optional(),negativeButtonText:xn().default("Đóng").optional()}).optional(),requireFingerprint:jn().default(!0).optional()}).optional()];function Ta(e){return wa.apply(this,arguments)}function wa(){return wa=K((function(e){return Y(this,(function(t){return[2,ot("openBioAuthentication",ba,[e],function(){var e=K((function(e){var t,n,r;return Y(this,(function(i){switch(i.label){case 0:return ie.isMp?(t=e.secretData,n=e.ui,r=e.requireFingerprint,[4,Ea(t,n,r)]):[3,2];case 1:return[2,i.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve({code:0,message:"OK",data:{domain:"",code:0,message:"",payToken:""}})]:[2,Promise.reject(oe("openBioAuthentication",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),wa.apply(this,arguments)}var Oa=K((function(){return Y(this,(function(e){return[2,new Promise((function(e,t){_r("PROMPT_AUTHENTICATION_CHECK_STATE",{},{success:function(t){e(null==t?void 0:t.bio_state)},fail:function(e){t(e)}},{actionName:"action.prompt.authentication.check_state"})}))]}))}));function Sa(e){return Ia.apply(this,arguments)}function Ia(){return(Ia=K((function(e){return Y(this,(function(t){return[2,ot("checkStateBioAuthentication",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,Oa()]:[3,2];case 1:return[2,{bioState:e.sent()}];case 2:return ie.isMpWeb?[2,Promise.resolve({bioState:""})]:[2,Promise.reject(oe("checkStateBioAuthentication",{}))]}}))})))]}))}))).apply(this,arguments)}var Aa=function(){var e=K((function(e){return Y(this,(function(t){return[2,new Promise((function(t,n){_r("SHOW_TOAST",{toast:e},{success:function(e){t()},fail:function(e){n(e)}},{})}))]}))}));return function(t){return e.apply(this,arguments)}}(),Pa=[Jn({message:xn()}).optional()];function Na(e){return ka.apply(this,arguments)}function ka(){return ka=K((function(e){return Y(this,(function(t){return[2,ot("showToast",Pa,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,Aa(e.message)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("showToast",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),ka.apply(this,arguments)}var Ca=K((function(){var e,t,n,r=arguments;return Y(this,(function(i){for(e=r.length,t=new Array(e),n=0;n<e;n++)t[n]=r[n];return[2,new Promise((function(e,t){_r("HIDE_KEYBOARD",{},{success:function(t){e()},fail:function(e){t(e)}},{})}))]}))}));function Ra(e){return Ma.apply(this,arguments)}function Ma(){return(Ma=K((function(e){return Y(this,(function(t){return[2,ot("hideKeyboard",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,Ca()]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("hideKeyboard",{}))]}}))})))]}))}))).apply(this,arguments)}var xa=function(){var e=K((function(e){return Y(this,(function(t){return[2,new Promise((function(t,n){_r("OPEN_PHONE",{phoneNum:e,phoneCode:e},{success:function(e){t()},fail:function(e){n(e)}},{})}))]}))}));return function(t){return e.apply(this,arguments)}}(),Da=[Jn({phoneNumber:xn()})];function Ua(e){return La.apply(this,arguments)}function La(){return La=K((function(e){return Y(this,(function(t){return[2,ot("openPhone",Da,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,xa(e.phoneNumber)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openPhone",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),La.apply(this,arguments)}var ja=function(){var e=K((function(e,t){return Y(this,(function(n){return[2,new Promise((function(n,r){_r("OPEN_SMS",{content:t,phoneCode:e},{success:function(e){n()},fail:function(e){r(e)}},{})}))]}))}));return function(t,n){return e.apply(this,arguments)}}(),Za=[Jn({content:xn(),phoneNumber:xn()})];function Ba(e){return za.apply(this,arguments)}function za(){return za=K((function(e){return Y(this,(function(t){return[2,ot("openSMS",Za,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,ja(e.phoneNumber,e.content)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openSMS",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),za.apply(this,arguments)}var Wa=function(){var e=K((function(e){var t,r=arguments;return Y(this,(function(i){return t=r.length>1&&void 0!==r[1]?r[1]:"",[2,new Promise((function(r,i){_r("VIEW_MYQR",{dpn:t,uid:e,zapp:n},{success:function(e){r()},fail:function(e){i(e)}},{timeout:!1})}))]}))}));return function(t){return e.apply(this,arguments)}}(),Fa=[Jn({id:xn(),displayName:xn().default("").optional()})];function Ga(e){return Ha.apply(this,arguments)}function Ha(){return Ha=K((function(e){return Y(this,(function(t){return[2,ot("viewOAQr",Fa,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,Wa(e.id,e.displayName)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("viewOAQr",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Ha.apply(this,arguments)}var Ka=function(){var e=K((function(e){return Y(this,(function(t){return[2,new Promise((function(t,n){_r("KEEP_SCREEN",{data:{keep_screen_on:e?1:0}},{success:function(e){t()},fail:function(e){n(e)}},{})}))]}))}));return function(t){return e.apply(this,arguments)}}(),Va=[Jn({keepScreenOn:jn()})];function Ja(e){return qa.apply(this,arguments)}function qa(){return qa=K((function(e){return Y(this,(function(t){return[2,ot("keepScreen",Va,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,Ka(e.keepScreenOn)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("keepScreen",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),qa.apply(this,arguments)}function $a(e){return Ya.apply(this,arguments)}function Ya(){return(Ya=K((function(e){return Y(this,(function(t){return[2,ot("onKeepScreen",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,Ka(!0)]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("onKeepScreen",{}))]}}))})))]}))}))).apply(this,arguments)}function Qa(e){return Xa.apply(this,arguments)}function Xa(){return(Xa=K((function(e){return Y(this,(function(t){return[2,ot("offKeepScreen",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,Ka(!1)]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("offKeepScreen",{}))]}}))})))]}))}))).apply(this,arguments)}var eo=function(){var e=K((function(e,t){var n;return Y(this,(function(r){return n={},e?n={imageBase64Data:e}:t&&(n={imageUrl:t}),[2,new Promise((function(e,t){_r("SAVE_IMAGE_GALLERY",ue({},n),{success:function(t){e()},fail:function(e){t(e)}},{})}))]}))}));return function(t,n){return e.apply(this,arguments)}}(),to=[Jn({imageBase64Data:xn().optional(),imageUrl:xn().url().optional()}).optional()];function no(e){return ro.apply(this,arguments)}function ro(){return ro=K((function(e){return Y(this,(function(t){return[2,ot("saveImageToGallery",to,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,eo(e.imageBase64Data,e.imageUrl)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("saveImageToGallery",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),ro.apply(this,arguments)}var io=function(){var e=K((function(e){var t,n,r,i,o,s,u=arguments;return Y(this,(function(c){switch(c.label){case 0:t=u.length>1&&void 0!==u[1]?u[1]:"/",n=u.length>2&&void 0!==u[2]?u[2]:{},c.label=1;case 1:return c.trys.push([1,3,,4]),[4,ma(e,0)];case 2:return r=c.sent(),[3,4];case 3:return c.sent(),[3,4];case 4:i={appId:e},r&&(i.appName=r.name,i.appAvtUrl=r.logoUrl),o="".concat(a,"/").concat(e).concat(t);try{s=new URL(o),Object.entries(n).forEach((function(e){var t=ce(e,2),n=t[0],r=t[1];s.searchParams.append(n,String(r))})),o=s.href}catch(e){}return[2,new Promise((function(e,t){_r("OPEN_MP",{mpUrl:o,mpInfo:i},{success:function(t){e()},fail:function(e){t(e)}},{})}))]}}))}));return function(t){return e.apply(this,arguments)}}(),ao=[Jn({appId:xn(),path:xn().optional(),params:yr.record(xn(),xn()).optional()})];function oo(e){return so.apply(this,arguments)}function so(){return so=K((function(e){return Y(this,(function(t){return[2,ot("openMiniApp",ao,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,io(e.appId,e.path,e.params)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openMiniApp",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),so.apply(this,arguments)}var uo=K((function(){var e,t,n=arguments;return Y(this,(function(r){return e=n.length>0&&void 0!==n[0]?n[0]:"oneShot",t=n.length>1?n[1]:void 0,[2,new Promise((function(n,r){_r("INTERACTIVE_VIBRATION",{type:g[e],vibrate_time:t},{success:function(e){n()},fail:function(e){r(e)}},{})}))]}))})),co=[Jn({type:yr.enum(["oneShot"]).default("oneShot"),milliseconds:Dn().optional()})];function lo(e){return po.apply(this,arguments)}function po(){return po=K((function(e){return Y(this,(function(t){return[2,ot("vibrate",co,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,uo(null==e?void 0:e.type,null==e?void 0:e.milliseconds)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("vibrate",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),po.apply(this,arguments)}var fo=function(){var e=K((function(e){return Y(this,(function(t){return[2,new Promise((function(t,n){_r("OPEN_INAPP",{url:e},{success:function(e){t()},fail:function(e){n(e)}},{})}))]}))}));return function(t){return e.apply(this,arguments)}}(),ho=[Jn({url:xn()})];function mo(e){return vo.apply(this,arguments)}function vo(){return vo=K((function(e){return Y(this,(function(t){return[2,ot("openWebview",ho,[e],function(){var e=K((function(e){var t,n,r;return Y(this,(function(i){switch(i.label){case 0:return ie.isMp?(t=new URL(e.url),n=t.href.includes("vnpay"),r=t.searchParams.get("typeInapp"),!n&&ye.isEmpty(r)&&t.searchParams.set("typeInapp","1"),[4,fo(t.href)]):[3,2];case 1:return[2,i.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openWebview",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),vo.apply(this,arguments)}function yo(){var e={},t=window.location.href;try{var n=new URL(t).searchParams.toString();n&&(e=De.getParamsAsObject(n))}catch(e){throw new Error("Invalid URL")}return e}function _o(){return ot("getRouteParams",[],[],(function(){return yo()}))}function go(e){return Eo.apply(this,arguments)}function Eo(){return(Eo=K((function(e){return Y(this,(function(t){return[2,ot("getAppInfo",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,ma()]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve({description:"",name:"",version:"",appUrl:"",qrCodeUrl:""})]:[2,Promise.reject(oe("getAppInfo",{}))]}}))})))]}))}))).apply(this,arguments)}var bo=function(){var e=K((function(e){return Y(this,(function(t){return[2,new Promise((function(t,n){_r("WEBVIEW_SET_RESULT",{result:rt(e)},{success:function(e){t()},fail:function(e){n(e)}},{})}))]}))}));return function(t){return e.apply(this,arguments)}}(),To=[Jn({data:yr.any()})];function wo(e){return Oo.apply(this,arguments)}function Oo(){return Oo=K((function(e){return Y(this,(function(t){return[2,ot("sendDataToPreviousMiniApp",To,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,bo(e.data)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("sendDataToPreviousMiniApp",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Oo.apply(this,arguments)}var So=K((function(){return Y(this,(function(e){return[2,new Promise((function(e,t){var n,r;_r("MP_GET_NUMBER",{},{success:function(n){var r={};if(null==n?void 0:n.token)return r.token=null==n?void 0:n.token,e(r);t(new Ke(A.CLIENT_NOT_SUPPORT,P.CLIENT_NOT_SUPPORT))},fail:function(e){t(e)}},{delay:(null===(n=re())||void 0===n||null===(r=n.platform)||void 0===r?void 0:r.isIOS)?400:0})}))]}))}));function Io(e){return Ao.apply(this,arguments)}function Ao(){return(Ao=K((function(e){return Y(this,(function(t){return[2,ot("getPhoneNumber",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,So()]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve({number:""})]:[2,Promise.reject(oe("getPhoneNumber",{}))]}}))})))]}))}))).apply(this,arguments)}var Po=K((function(){var e,t=arguments;return Y(this,(function(n){return e=t.length>0&&void 0!==t[0]?t[0]:1,[2,new Promise((function(t,n){_r("MP_OPEN_PROFILE_PICKER",{maxProfile:e},{success:function(e){Array.isArray(e)?t(e.map((function(e){return e.id}))):t([])},fail:function(e){n(e)}},{isMultiCallback:!0})}))]}))})),No=[Jn({maxProfile:Dn().min(1).max(10).optional().default(1)})];function ko(e){return Co.apply(this,arguments)}function Co(){return Co=K((function(e){return Y(this,(function(t){return[2,ot("openProfilePicker",No,[e],function(){var e=K((function(e){var t,n,r,i,a;return Y(this,(function(o){switch(o.label){case 0:return ie.isMp?[4,Po(null==e?void 0:e.maxProfile)]:[3,8];case 1:if(!((t=o.sent()).length>0))return[3,7];o.label=2;case 2:return o.trys.push([2,6,,7]),[4,$e.getAccessToken()];case 3:return r=o.sent(),[4,fetch(c.GET_LIST_USER_INFO,{method:"POST",headers:{"Content-Type":"application/json",access_token:r||""},body:JSON.stringify({fields:"id,name,picture",user_ids:t})})];case 4:return[4,o.sent().json()];case 5:if(0!==(i=o.sent()).error||!i.data)throw new Error(i.message);return n=t.map((function(e){var t,n,r,a,o,s,u,c,l,p,d;return{id:(null===(t=i.data[e])||void 0===t||null===(n=t.user_info)||void 0===n?void 0:n.user_id_by_app)||"",profile:{name:null===(r=i.data[e])||void 0===r||null===(a=r.user_info)||void 0===a?void 0:a.name,avatar:null===(o=i.data[e])||void 0===o||null===(s=o.user_info)||void 0===s||null===(u=s.picture)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.url},code:0!==(null===(l=i.data[e])||void 0===l?void 0:l.error)?-1:0,message:"Get profile: ".concat(ye.isUndefined(null===(p=i.data[e])||void 0===p?void 0:p.message)?"Unknown error":null===(d=i.data[e])||void 0===d?void 0:d.message)}})),[3,7];case 6:return a=o.sent(),n=t.map((function(e){return{id:e,profile:{name:"",avatar:""},code:-1,message:"Can't get profile: ".concat(a.message)}})),[3,7];case 7:return[2,{users:n||[]}];case 8:return ie.isMpWeb?[2,Promise.resolve({users:[]})]:[2,Promise.reject(oe("openProfilePicker",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Co.apply(this,arguments)}var Ro=function(){var e=K((function(e,t,n){var r;return Y(this,(function(i){return r=t&&ye.isString(t)&&t.length>0?"wpa_wpa2":"open",[2,new Promise((function(i,a){_r("MP_JOIN_WIFI",{ssid:e,securityType:r,password:t,hiddenSsid:n},{success:function(e){i(e)},fail:function(e){a(e)}},{})}))]}))}));return function(t,n,r){return e.apply(this,arguments)}}(),Mo=[Jn({SSID:xn(),password:xn().optional(),hiddenSSID:jn().optional()})];function xo(e){return Do.apply(this,arguments)}function Do(){return Do=K((function(e){return Y(this,(function(t){return[2,ot("connectWifi",Mo,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,Ro(e.SSID,e.password,e.hiddenSSID)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("connectWifi",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Do.apply(this,arguments)}var Uo=function(){var e=K((function(e,t,n,r,i,a){var o,s;return Y(this,(function(u){return o={type:0,url:t,maxSize:n||1048576},s={enable:1,aspect_ratio:"1:1"},[2,new Promise((function(t,n){_r("PICK_MEDIA",{media_type:E[e],edit_view:ue({},s,r),silent_request:i,upload:o,max_select_items:a},{success:function(e){t(null==e?void 0:e.result_content)},fail:function(e){n(e)}},{isMultiCallback:!0})}))]}))}));return function(t,n,r,i,a,o){return e.apply(this,arguments)}}(),Lo=[Jn({type:yr.enum(["video","photo","file","zcamera","zcamera_photo","zcamera_video","zcamera_scan"]),serverUploadUrl:xn().url(),maxItemSize:Dn().min(0).optional(),editView:Jn({enable:jn().optional(),aspectRatio:xn().regex(/^d+:d+$/).optional()}).optional(),silentRequest:jn().optional(),maxSelectItem:Dn().min(1).optional()})];function jo(e){return Zo.apply(this,arguments)}function Zo(){return Zo=K((function(e){return Y(this,(function(t){return[2,ot("openMediaPicker",Lo,[e],function(){var e=K((function(e){var t,n,r,i,a,o;return Y(this,(function(s){switch(s.label){case 0:return ie.isMp?(i={},ye.isUndefined(null===(t=e.editView)||void 0===t?void 0:t.enable)||(null===(n=e.editView)||void 0===n?void 0:n.enable)?i.enable=1:i.enable=0,i.aspect_ratio=null===(r=e.editView)||void 0===r?void 0:r.aspectRatio,a=!0===e.silentRequest?1:0,o=e.maxSelectItem,[4,Uo(e.type,e.serverUploadUrl,e.maxItemSize,i,a,o)]):[3,2];case 1:return[2,{data:s.sent()}];case 2:return ie.isMpWeb?[2,Promise.resolve({data:""})]:[2,Promise.reject(oe("openMediaPicker",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Zo.apply(this,arguments)}var Bo=[Jn({title:xn().max(100),description:xn().max(400).default(""),thumbnail:xn().url().optional(),path:xn().optional()})];function zo(e){return Wo.apply(this,arguments)}function Wo(){return Wo=K((function(e){return Y(this,(function(t){return[2,ot("getShareableLink",Bo,[e],function(){var e=K((function(e){var t;return Y(this,(function(n){switch(n.label){case 0:return[4,$e.getAccessToken()];case 1:return t=n.sent(),[4,oa(window.APP_ID,t||"",e.title,e.description,e.thumbnail,e.path)];case 2:return[2,n.sent().shareableLink]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Wo.apply(this,arguments)}var Fo=function(){var e=K((function(e){return Y(this,(function(t){return[2,new Promise((function(t,n){_r("MP_CLOSE_LOADINGVIEW",{at:(new Date).getTime(),when:e,url:location.href},{success:function(e){t(e)},fail:function(e){n(e)}},{})}))]}))}));return function(t){return e.apply(this,arguments)}}();function Go(e){return Ho.apply(this,arguments)}function Ho(){return(Ho=K((function(e){return Y(this,(function(t){return[2,ot("closeLoading",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,Fo("user action")]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("closeLoading",{}))]}}))})))]}))}))).apply(this,arguments)}function Ko(e){return Vo.apply(this,arguments)}function Vo(){return Vo=K((function(e){return Y(this,(function(t){return[2,ot("requestUpdateZalo",[],[e],K((function(){var e,t,n;return Y(this,(function(r){switch(r.label){case 0:return ie.isMp?(n=(null===(e=re())||void 0===e||null===(t=e.platform)||void 0===t?void 0:t.isIOS)?"https://apps.apple.com/vn/app/zalo/id579523206":"https://play.google.com/store/apps/details?id=com.zing.zalo",[4,va(n)]):[3,2];case 1:return[2,r.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("requestUpdateZalo",{}))]}}))})))]}))})),Vo.apply(this,arguments)}var Jo=Re.getInstance();Jo.addListener=function(e,t,n){var r=e;return Jo.addListener(d[r],t,n)};var qo=[yr.function()];function $o(e){return ot("onConfirmToExit",qo,[e],(function(e){var t=e;ie.isMp&&(Jo.on(d.AppClose,t,'{"handle_h5": 1}'),Er.setNavigationBarLeftButton(void 0,2))}))}function Yo(){return ot("offConfirmToExit",[],[],(function(){ie.isMp&&(Jo.off(d.AppClose),Er.setNavigationBarLeftButton(void 0,0))}))}function Qo(){return ot("getDeviceId",[],[],(function(){return ie.isMp&&$e.getSync(u.DEVICE_ID)||""}))}function Xo(e){return es.apply(this,arguments)}function es(){return(es=K((function(e){return Y(this,(function(t){return[2,ot("getDeviceIdAsync",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,$e.get(u.DEVICE_ID)]:[3,2];case 1:return[2,e.sent()||""];case 2:return[2,Promise.resolve("")]}}))})))]}))}))).apply(this,arguments)}function ts(){return ot("getContext",[],[],(function(){if(ie.isMp){var e=$e.getSync(u.CONTEXT_ID)||"";return{type:$e.getSync(u.CONTEXT_TYPE)||"",id:e}}return{type:"",id:""}}))}function ns(e){return rs.apply(this,arguments)}function rs(){return(rs=K((function(e){return Y(this,(function(t){return[2,ot("getContextAsync",[],[e],K((function(){var e;return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,$e.get(u.CONTEXT_ID)]:[3,3];case 1:return e=t.sent()||"",[4,$e.get(u.CONTEXT_TYPE)];case 2:return[2,{type:t.sent()||"",id:e}];case 3:return[2,Promise.resolve({type:"",id:""})]}}))})))]}))}))).apply(this,arguments)}function is(e){return as.apply(this,arguments)}function as(){return(as=K((function(e){return Y(this,(function(t){return[2,ot("getAuthCode",[],[e],K((function(){var e,t;return Y(this,(function(n){switch(n.label){case 0:return ie.isMp?[4,$e.get(u.ZOAUTH,!0)]:[3,3];case 1:return e=n.sent()||"",[4,$e.get(u.ZOAUTH_VRF)];case 2:return t=n.sent()||"",[2,{authCode:e,authCodeVerify:t}];case 3:return[2,Promise.resolve({authCode:"",authCodeVerify:""})]}}))})))]}))}))).apply(this,arguments)}function os(e){return ss.apply(this,arguments)}function ss(){return(ss=K((function(e){return Y(this,(function(t){return[2,ot("getZPIToken",[],[e],K((function(){var e,t,n,r;return Y(this,(function(i){switch(i.label){case 0:return ie.isMp?[4,$e.get(u.UTOKEN_ZPI)]:[3,5];case 1:return e=i.sent()||"",[4,$e.get(u.GTOKEN_ZPI)];case 2:return t=i.sent()||"",[4,$e.get(u.ZPP_ZPI)];case 3:return n=i.sent()||"",[4,$e.get(u.ZPT_ZPI)];case 4:return r=i.sent()||"",[2,{utoken:e,gtoken:t,zpp:n,zpt:r}];case 5:return[2,Promise.resolve({utoken:"",gtoken:"",zpp:"",zpt:""})]}}))})))]}))}))).apply(this,arguments)}var us=[xn()];function cs(e){return ot("setAccessToken",us,[e],(function(e){var t=e;$e.setAccessToken(t)}))}var ls=[Jn({url:xn().url()})];function ps(e){return ds.apply(this,arguments)}function ds(){return ds=K((function(e){return Y(this,(function(t){return[2,ot("openOutApp",ls,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,va(e.url)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openOutApp",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),ds.apply(this,arguments)}var fs=[Jn({count:Dn().min(1).optional().default(1),sourceType:yr.array(yr.enum(["album","camera"])).max(2).default(["album","camera"]).optional(),cameraType:yr.enum(["back","front"]).default("front").optional()})];function hs(e){return ms.apply(this,arguments)}function ms(){return ms=K((function(e){return Y(this,(function(t){return[2,ot("chooseImage",fs,[e],function(){var e=K((function(e){var t,n,r,i;return Y(this,(function(a){return t=e.sourceType||["album","camera"],n=e.cameraType||"front",r=e.count||1,(i=document.createElement("input")).type="file",i.multiple=r>1,i.accept="image/*",i.style.display="none",1===t.length&&t.includes("camera")&&(i.accept="front"===n?"zcamera/photo-frontfacing":"zcamera/photo-backfacing",i.capture="front"===n?"user":"environment"),[2,new Promise((function(e,t){i.addEventListener("change",(function(n){var i,a=(null==n||null===(i=n.target)||void 0===i?void 0:i.files)||[];if(a.length>r)t(new Error("You are only allowed to choose a maximum of ".concat(r," images at a time")));else{var o={filePaths:[],tempFiles:[]};Array.from(a).forEach((function(e){o.filePaths.push(URL.createObjectURL(e)),o.tempFiles.push({path:URL.createObjectURL(e),size:e.size})})),e(o)}})),document.body.appendChild(i),i.click()}))]}))}));return function(t){return e.apply(this,arguments)}}())]}))})),ms.apply(this,arguments)}var vs=K((function(){var e,t,n=arguments;return Y(this,(function(r){return e=n.length>0&&void 0!==n[0]&&n[0],t=n.length>1&&void 0!==n[1]?n[1]:"Cho phép Zalo truy cập vào vị trí của thiết bị này?",[2,new Promise((function(n,r){_r("GET_LOCATION",{silent_request:e,permission_description:t},{success:function(e){var t={};if(null==e?void 0:e.token)return t.token=null==e?void 0:e.token,n(t);r(new Ke(A.CLIENT_NOT_SUPPORT,P.CLIENT_NOT_SUPPORT))},fail:function(e){r(e)}},{isMultiCallback:!0,timeout:!1})}))]}))}));function ys(e){return _s.apply(this,arguments)}function _s(){return(_s=K((function(e){return Y(this,(function(t){return[2,ot("getLocation",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,vs()]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve({longitude:"105.788026",latitude:"21.0258773",timestamp:(new Date).getTime().toString(),provider:"fused"})]:[2,Promise.reject(oe("getLocation",{}))]}}))})))]}))}))).apply(this,arguments)}var gs=[yr.function().args(Jn({data:yr.any()})).returns(yr.void())];function Es(e){return ot("onCallbackData",gs,[e],(function(t){!function(e){Re.getInstance().on(d.OnDataCallback,(function(t){e({data:t})}))}(e)}))}var bs=function(){var e=K((function(e,t,n,i,a){var o,s,u,c,l,p,d,f,h,m,v,y;return Y(this,(function(_){switch(_.label){case 0:o=r,(s=new URLSearchParams).append("amount",e.toString()),s.append("item",encodeURIComponent(JSON.stringify(t))),s.append("appId",o),n&&s.append("desc",encodeURIComponent(n)),i&&s.append("extradata",encodeURIComponent(JSON.stringify(i))),a&&s.append("method",a),u={headers:{"Content-Type":"application/x-www-form-urlencoded",authorization:"Bearer "}},_.label=1;case 1:return _.trys.push([1,6,,7]),[4,$e.getAccessToken().catch((function(e){throw Je.error.loginRequired}))];case 2:return c=_.sent(),u.headers.authorization="Bearer ".concat(c),[4,fetch(x,Vi(ue({method:"POST"},u),{body:s}))];case 3:return[4,_.sent().json()];case 4:if(!(l=_.sent()).data||0!==l.err)throw Je.error.badRequest(l.msg);return p=l.data.id,d=l.data.jwt,f=window.APP_VERSION,h=window.APP_ENV,m={miniAppId:o,orderId:p},d&&(m.token=d),f&&(m.version=f),h&&(m.env=h),a&&(m.method=a),v=De.encode(m),y=new URL("?".concat(v),"https://payment-mini.zalo.me").toString(),[4,fo(y)];case 5:return _.sent(),[2,{orderId:p}];case 6:throw _.sent();case 7:return[2]}}))}));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),Ts=[Jn({amount:yr.union([xn(),Dn()]),item:yr.array(yr.record(xn(),yr.any())),desc:xn(),extradata:yr.any().optional(),method:yr.enum(["MOMO","ZALOPAY","MOMO_SANDBOX","ZALOPAY_SANDBOX","CC","CC_SANDBOX","ATM","ATM_SANDBOX","VNPAY","VNPAY_SANDBOX"]).optional()})];function ws(e){return Os.apply(this,arguments)}function Os(){return Os=K((function(e){return Y(this,(function(t){return[2,ot("createOrder",Ts,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,bs(e.amount,e.item,e.desc,e.extradata,e.method)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve({orderId:""})]:[2,Promise.reject(oe("createOrder",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Os.apply(this,arguments)}var Ss=function(){var e=K((function(e){var t,n,i,a,o,s,u,c,l;return Y(this,(function(p){switch(p.label){case 0:return e||(e=yo()),"object"==typeof e&&(t=e.appTransID||e.orderId||e.apptransid),"string"==typeof e&&(n=De.getParameterByName("orderId",e),i=De.getParameterByName("appTransID",e)||De.getParameterByName("apptransid",e),t=n||i),a={headers:{authorization:"Bearer "}},[4,$e.getAccessToken().catch((function(e){throw Je.error.loginRequired}))];case 1:return o=p.sent(),a.headers.authorization="Bearer ".concat(o),s=new URL(U),u={transId:t||"",appId:r},s.search=new URLSearchParams(u).toString(),[4,fetch(s.toString(),a)];case 2:return[4,p.sent().json()];case 3:if(!(c=p.sent()).data||0!==c.err)throw Je.error.badRequest(c.msg);return[2,{msg:(l=c.data||{}).resultMessage,orderId:l.orderId,resultCode:l.resultCode,transTime:l.transTime,createdAt:l.createAt,transId:l.transId}]}}))}));return function(t){return e.apply(this,arguments)}}(),Is=[Jn({data:yr.union([xn(),yr.record(xn(),xn())])})];function As(e){return Ps.apply(this,arguments)}function Ps(){return Ps=K((function(e){return Y(this,(function(t){return[2,ot("checkTransaction",Is,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,Ss(e.data)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve({msg:"Success",orderId:"",resultCode:1,transTime:(new Date).getTime().toString(),createdAt:(new Date).getTime().toString(),transId:""})]:[2,Promise.reject(oe("checkTransaction",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Ps.apply(this,arguments)}var Ns=[Jn({hide:jn().default(!1).optional()}).optional()];function ks(e){return Cs.apply(this,arguments)}function Cs(){return Cs=K((function(e){return Y(this,(function(t){return[2,ot("setAndroidBottomNavigationBar",Ns,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,Er.setAndroidBottomNavigationBar(e.hide)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("setAndroidBottomNavigationBar",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Cs.apply(this,arguments)}var Rs=[Jn({hide:jn().default(!1).optional()}).optional()];function Ms(e){return xs.apply(this,arguments)}function xs(){return xs=K((function(e){return Y(this,(function(t){return[2,ot("setIOSBottomSafeArea",Rs,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,Er.setIOSBottomSafeArea(e.hide)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("setIOSBottomSafeArea",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),xs.apply(this,arguments)}var Ds=[Jn({type:yr.enum(["normal","hidden","transparent"]).default("normal").optional(),color:yr.string().optional()}).optional()];function Us(e){return Ls.apply(this,arguments)}function Ls(){return Ls=K((function(e){return Y(this,(function(t){return[2,ot("setStatusBar",Ds,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,Er.configHeader({statusBarType:e.type,headerColor:e.color})]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("setStatusBar",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Ls.apply(this,arguments)}var js=[Jn({headerTextColor:yr.enum(["black","white"]).optional(),headerColor:yr.string().optional(),actionBar:Jn({hide:yr.boolean().optional(),title:yr.string().optional(),leftButton:yr.enum(["back","none"]).optional(),textAlign:yr.enum(["left","center"]).default("left").optional()}).optional(),statusBarType:yr.enum(["normal","hidden","transparent"]).optional(),hideAndroidBottomNavigationBar:yr.boolean().optional(),hideIOSSafeAreaBottom:yr.boolean().optional()})];function Zs(e){return Bs.apply(this,arguments)}function Bs(){return Bs=K((function(e){return Y(this,(function(t){return[2,ot("configAppView",js,[e],function(){var e=K((function(e){var t,n,r,i,a,o;return Y(this,(function(s){switch(s.label){case 0:return ie.isMp?ye.isUndefined(null===(t=e.actionBar)||void 0===t?void 0:t.leftButton)?[3,2]:[4,Er.setNavigationBarLeftButton(null===(a=e.actionBar)||void 0===a?void 0:a.leftButton)]:[3,13];case 1:s.sent(),s.label=2;case 2:return ye.isUndefined(null===(n=e.actionBar)||void 0===n?void 0:n.title)?[3,4]:[4,Er.setNavigationBarTitle(null===(o=e.actionBar)||void 0===o?void 0:o.title)];case 3:s.sent(),s.label=4;case 4:return[4,Er.configHeader({hideActionBar:null===(r=e.actionBar)||void 0===r?void 0:r.hide,statusBarType:e.statusBarType,headerTextColor:e.headerTextColor,headerColor:e.headerColor,textAlign:null===(i=e.actionBar)||void 0===i?void 0:i.textAlign})];case 5:s.sent(),s.label=6;case 6:return s.trys.push([6,11,,12]),"boolean"!=typeof e.hideAndroidBottomNavigationBar?[3,8]:[4,Er.setAndroidBottomNavigationBar(e.hideAndroidBottomNavigationBar)];case 7:s.sent(),s.label=8;case 8:return"boolean"!=typeof e.hideIOSSafeAreaBottom?[3,10]:[4,Er.setIOSBottomSafeArea(e.hideIOSSafeAreaBottom)];case 9:s.sent(),s.label=10;case 10:return[3,12];case 11:return s.sent(),[3,12];case 12:return[2];case 13:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("configAppView",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Bs.apply(this,arguments)}var zs=function(){var e=K((function(e,t,n,i){var a,o,s,u,c,l,p,d,f,h,m,v,y,_,g,E,w,O,S;return Y(this,(function(I){switch(I.label){case 0:c=r,(l=new URLSearchParams).append("payType",t||b.SUBSCRIPTION),p=T.UNKNOW,n===j&&(p=T.IMMEDIATE_AND_CHARGE_FULL_PRICE),n===L&&(p=T.DEFERRED),l.append("prorationMode",p.toString()),l.append("appId",c),i&&l.append("method",i),d="",(null===(a=re())||void 0===a||null===(o=a.platform)||void 0===o?void 0:o.isIOS)?d="ios":(null===(s=re())||void 0===s||null===(u=s.platform)||void 0===u?void 0:u.isAndroid)&&(d="android"),l.append("os",d),l.append("productId",e),f={headers:{"Content-Type":"application/x-www-form-urlencoded",authorization:"Bearer "}},I.label=1;case 1:return I.trys.push([1,5,,6]),[4,$e.getAccessToken().catch((function(e){throw Je.error.loginRequired}))];case 2:return h=I.sent(),f.headers.authorization="Bearer ".concat(h),[4,fetch(D,Vi(ue({method:"POST"},f),{body:l}))];case 3:return[4,I.sent().json()];case 4:if(!(m=I.sent()).data||!m.data.store||0!==m.err)throw Je.error.createIAPOrderFailed(m.err);return v=m.data.store,y=m.data.orderId,_=v.sku,g=v.tranx_id,E=v.product_type,w=v.verify_url,O=v.subscription_data,S=v.uuid,[2,new Promise((function(e,t){_r("IAP_REQUESTPAYMENT",{sku:_,tranx_id:g,product_type:E,verify_url:w,subscription_data:O,uuid:S},{success:function(){e({orderId:y})},fail:function(e){t(e)}})}))];case 5:throw I.sent();case 6:return[2]}}))}));return function(t,n,r,i){return e.apply(this,arguments)}}(),Ws=[Jn({productId:xn(),payType:yr.enum(["ONETIME","SUBSCRIPTION"]).optional(),prorationMode:yr.enum(["DEFERRED","IMMEDIATE_AND_CHARGE_FULL_PRICE"]).default("DEFERRED").optional(),method:yr.enum(["IAP","IAP_SANDBOX"]).optional()})];function Fs(e){return Gs.apply(this,arguments)}function Gs(){return Gs=K((function(e){return Y(this,(function(t){return[2,ot("createOrderIAP",Ws,[e],function(){var e=K((function(e){return Y(this,(function(t){switch(t.label){case 0:return ie.isMp?[4,zs(e.productId,e.payType,e.prorationMode,e.method)]:[3,2];case 1:return[2,t.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve({orderId:""})]:[2,Promise.reject(oe("createOrderIAP",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),Gs.apply(this,arguments)}var Hs=K((function(){return Y(this,(function(e){return[2,new Promise((function(e,t){_r("MA_MENU_MINIMIZE",{},{success:function(t){e(t)},fail:function(e){t(e)}},{})}))]}))}));function Ks(e){return Vs.apply(this,arguments)}function Vs(){return(Vs=K((function(e){return Y(this,(function(t){return[2,ot("minimizeApp",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,Hs()]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("minimizeApp",{}))]}}))})))]}))}))).apply(this,arguments)}var Js=K((function(){return Y(this,(function(e){return[2,new Promise((function(e,t){_r("MA_MENU_PERMISSION",{},{success:function(t){e(t)},fail:function(e){t(e)}},{})}))]}))}));function qs(e){return $s.apply(this,arguments)}function $s(){return($s=K((function(e){return Y(this,(function(t){return[2,ot("openPermissionSetting",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,Js()]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openPermissionSetting",{}))]}}))})))]}))}))).apply(this,arguments)}var Ys=K((function(){return Y(this,(function(e){return[2,new Promise((function(e,t){_r("MP_ADD_MYFAVORITES",{timestamp:(new Date).getTime()},{success:function(t){e(t)},fail:function(e){t(e)}},{})}))]}))}));function Qs(e){return Xs.apply(this,arguments)}function Xs(){return(Xs=K((function(e){return Y(this,(function(t){return[2,ot("favoriteApp",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,Ys()]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("favoriteApp",{}))]}}))})))]}))}))).apply(this,arguments)}var eu=K((function(){return Y(this,(function(e){return[2,new Promise((function(e,t){_r("OPEN_GROUPLIST",{},{success:function(t){e(t)},fail:function(e){t(e)}},{})}))]}))}));function tu(e){return nu.apply(this,arguments)}function nu(){return(nu=K((function(e){return Y(this,(function(t){return[2,ot("openGroupList",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,eu()]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openGroupList",{}))]}}))})))]}))}))).apply(this,arguments)}var ru=K((function(){return Y(this,(function(e){return[2,new Promise((function(e,t){_r("MP_SEND_NOTIFICATION",{},{success:function(t){e(t)},fail:function(e){t(e)}},{})}))]}))}));function iu(e){return au.apply(this,arguments)}function au(){return(au=K((function(e){return Y(this,(function(t){return[2,ot("requestSendNotification",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,ru()]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("requestSendNotification",{}))]}}))})))]}))}))).apply(this,arguments)}var ou=K((function(){return Y(this,(function(e){return[2,new Promise((function(e,t){_r("MP_ADD_RATING",{},{success:function(t){e(t)},fail:function(e){t(e)}},{})}))]}))}));function su(e){return uu.apply(this,arguments)}function uu(){return(uu=K((function(e){return Y(this,(function(t){return[2,ot("addRating",[],[e],K((function(){return Y(this,(function(e){switch(e.label){case 0:return ie.isMp?[4,ou()]:[3,2];case 1:return[2,e.sent()];case 2:return ie.isMpWeb?[2,Promise.resolve({})]:[2,Promise.reject(oe("addRating",{}))]}}))})))]}))}))).apply(this,arguments)}var cu,lu=(cu=K((function(e,t,n){var r,i;return Y(this,(function(a){switch(a.label){case 0:return(r=new URLSearchParams).append("appId",t),r.append("accessToken",n),r.append("oaId",e),i={headers:{"Content-Type":"application/x-www-form-urlencoded"}},[4,fetch(c.CHECK_INTERACT_OA,ue({method:"POST",body:r},i))];case 1:return[4,a.sent().json()];case 2:return[2,a.sent()]}}))})),function(e,t,n){return cu.apply(this,arguments)}),pu=function(){var e=K((function(e){return Y(this,(function(t){return[2,new Promise((function(t,n){_r("MP_INTERACT_OA",{oaId:e,forceUpdate:!0},{success:function(e){t(e)},fail:function(e){n(e)}},{})}))]}))}));return function(t){return e.apply(this,arguments)}}(),du=[Jn({oaId:xn()})];function fu(e){return hu.apply(this,arguments)}function hu(){return hu=K((function(e){return Y(this,(function(t){return[2,ot("interactOA",du,[e],function(){var e=K((function(e){var t,n,i;return Y(this,(function(a){switch(a.label){case 0:return ie.isMp?(t=e.oaId,[4,$e.getAccessToken()]):[3,5];case 1:return!(n=a.sent())||ye.isEmpty(n)?[3,3]:[4,lu(t,r,n)];case 2:if(0===(null==(i=a.sent())?void 0:i.err))return[2,Promise.resolve({})];a.label=3;case 3:return[4,pu(t)];case 4:return[2,a.sent()];case 5:return ie.isMpWeb?[2,Promise.resolve({})]:[2,Promise.reject(oe("interactOA",{}))]}}))}));return function(t){return e.apply(this,arguments)}}())]}))})),hu.apply(this,arguments)}var mu=Object.freeze({__proto__:null,login:st,getAccessToken:ct,getVersion:ft,getSystemInfo:mt,setNavigationBarTitle:Tr,setNavigationBarColor:Sr,setNavigationBarLeftButton:Pr,setStorage:ei,getStorage:ri,getStorageInfo:ai,removeStorage:ui,clearStorage:pi,getUserInfo:mi,getNetworkType:gi,onNetworkStatusChange:Ti,startBeaconDiscovery:Si,stopBeaconDiscovery:Pi,getBeacons:Ci,closeApp:xi,scanQRCode:Li,openProfile:zi,openChat:Hi,openPostFeed:$i,followOA:ea,unfollowOA:ia,openShareSheet:ca,requestCameraPermission:da,createShortcut:_a,openBioAuthentication:Ta,checkStateBioAuthentication:Sa,showToast:Na,hideKeyboard:Ra,openPhone:Ua,openSMS:Ba,viewOAQr:Ga,keepScreen:Ja,onKeepScreen:$a,offKeepScreen:Qa,saveImageToGallery:no,openMiniApp:oo,vibrate:lo,openWebview:mo,getRouteParams:_o,getAppInfo:go,sendDataToPreviousMiniApp:wo,getPhoneNumber:Io,openProfilePicker:ko,connectWifi:xo,openMediaPicker:jo,getShareableLink:zo,closeLoading:Go,requestUpdateZalo:Ko,onConfirmToExit:$o,offConfirmToExit:Yo,getDeviceId:Qo,getDeviceIdAsync:Xo,getContext:ts,getContextAsync:ns,getAuthCode:is,getZPIToken:os,setAccessToken:cs,openOutApp:ps,chooseImage:hs,getLocation:ys,onCallbackData:Es,createOrder:ws,checkTransaction:As,events:Jo,setAndroidBottomNavigationBar:ks,setIOSBottomSafeArea:Ms,setStatusBar:Us,configAppView:Zs,createOrderIAP:Fs,minimizeApp:Ks,openPermissionSetting:qs,favoriteApp:Qs,openGroupList:tu,requestSendNotification:iu,addRating:su,interactOA:fu,interactOa:fu}),vu=ws,yu=As,_u=Fs,gu=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(mu,["createOrder","checkTransaction","createOrderIAP"]),Eu={createOrder:vu,checkTransaction:yu,createOrderIAP:_u};!function(){var e,t=null===(e=re())||void 0===e?void 0:e.appEnv;(null==t?void 0:t.isMp)&&(window.ZaloMiniAppSDK={},Object.assign(window.ZaloMiniAppSDK,mu))}(),st();export{O as AndroidBottomNavigationBarType,m as ChatType,d as Events,b as IAPPayType,S as IOSSafeAreaBottomType,f as JumpStatus,E as MediaPickerType,l as NetworkType,_ as OrientationType,Eu as Payment,p as PlatformType,v as PostFeedType,h as ProfileType,T as ProrationMode,y as ShareSheetType,w as StatusBarType,I as TextAlignType,g as VibrateType,su as addRating,Sa as checkStateBioAuthentication,As as checkTransaction,hs as chooseImage,pi as clearStorage,xi as closeApp,Go as closeLoading,Zs as configAppView,xo as connectWifi,ws as createOrder,Fs as createOrderIAP,_a as createShortcut,gu as default,Jo as events,Qs as favoriteApp,ea as followOA,ct as getAccessToken,go as getAppInfo,is as getAuthCode,Ci as getBeacons,ts as getContext,ns as getContextAsync,Qo as getDeviceId,Xo as getDeviceIdAsync,ys as getLocation,gi as getNetworkType,Io as getPhoneNumber,_o as getRouteParams,zo as getShareableLink,ri as getStorage,ai as getStorageInfo,mt as getSystemInfo,mi as getUserInfo,ft as getVersion,os as getZPIToken,Ra as hideKeyboard,fu as interactOA,fu as interactOa,Ja as keepScreen,st as login,Ks as minimizeApp,Yo as offConfirmToExit,Qa as offKeepScreen,Es as onCallbackData,$o as onConfirmToExit,$a as onKeepScreen,Ti as onNetworkStatusChange,Ta as openBioAuthentication,Hi as openChat,tu as openGroupList,jo as openMediaPicker,oo as openMiniApp,ps as openOutApp,qs as openPermissionSetting,Ua as openPhone,$i as openPostFeed,zi as openProfile,ko as openProfilePicker,Ba as openSMS,ca as openShareSheet,mo as openWebview,ui as removeStorage,da as requestCameraPermission,iu as requestSendNotification,Ko as requestUpdateZalo,no as saveImageToGallery,Li as scanQRCode,wo as sendDataToPreviousMiniApp,cs as setAccessToken,ks as setAndroidBottomNavigationBar,Ms as setIOSBottomSafeArea,Sr as setNavigationBarColor,Pr as setNavigationBarLeftButton,Tr as setNavigationBarTitle,Us as setStatusBar,ei as setStorage,Na as showToast,Si as startBeaconDiscovery,Pi as stopBeaconDiscovery,ia as unfollowOA,lo as vibrate,Ga as viewOAQr};
